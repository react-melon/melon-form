{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///index.js","webpack:///webpack/bootstrap 06202458006d5bac2231","webpack:///./src/util/dataPath.js","webpack:///./src/actionTypes.js","webpack:///./src/constants.js","webpack:///./src/selectors.js","webpack:///./src/util/dataPathMap.js","webpack:///external \"react-addons-update\"","webpack:///./src/createActionCreators.js","webpack:///./src/reducers/index.js","webpack:///./src/util/validity.js","webpack:///external \"lodash/mapValues\"","webpack:///external \"lodash/toPath\"","webpack:///external \"react\"","webpack:///external \"react-redux\"","webpack:///./src/createField.js","webpack:///./src/createForm.js","webpack:///./src/createReducer.js","webpack:///./src/index.js","webpack:///./src/reducers/array.js","webpack:///./src/reducers/field.js","webpack:///./src/reducers/form.js","webpack:///./src/util/createOnChange.js","webpack:///external \"lodash/get\"","webpack:///external \"lodash/startsWith\"","webpack:///external \"redux\"","webpack:///external \"shallow-equal/objects\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_6__","__WEBPACK_EXTERNAL_MODULE_10__","__WEBPACK_EXTERNAL_MODULE_11__","__WEBPACK_EXTERNAL_MODULE_12__","__WEBPACK_EXTERNAL_MODULE_13__","__WEBPACK_EXTERNAL_MODULE_22__","__WEBPACK_EXTERNAL_MODULE_23__","__WEBPACK_EXTERNAL_MODULE_24__","__WEBPACK_EXTERNAL_MODULE_25__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","global","apply","undefined","_get","_toPath","_interopRequireDefault","obj","__esModule","default","setInWithPath","state","value","first","_extends2","_len","arguments","length","paths","Array","_key","next","concat","_typeof","isNaN","isArray","copy","slice","_extends","setIn","path","_toPath2","deleteInWithPath","_len2","_key2","_extends3","nextState","Object","keys","reduce","name","deleteIn","compilePath","tokens","pathString","map","token","index","ARRAY_LIKE_REG","test","join","walk","iterator","cur","isCurrentArray","forEach","key","push","pop","getIn","_get2","assign","target","i","source","prototype","hasOwnProperty","Symbol","constructor","PREFIX","INITIALIZE","RESET","FOCUS","CHANGE","TOUCH","TOUCH_ALL","BLUR","ARRAY_SWAP","ARRAY_PUSH","ARRAY_POP","ARRAY_SHIFT","ARRAY_UNSHIFT","ARRAY_SPLICE","VALIDITY_UPDATE","ASYNC_VALIDATE_START","ASYNC_VALIDATE_SUCCEED","ASYNC_VALIDATE_FAILED","REGISTER","UNREGISTER","PENDING_START","PENDING_STOP","DEFAULT_META","touched","submitting","focus","dirty","error","_dataPath","getFormData","store","getMeta","meta","getFieldData","formData","data","_startsWith","make","prefix","dataPath","remove","nextMap","_startsWith2","move","from","to","replace","add","nodes","node","splice","pointer","arr","start","deleteCount","replacements","replaceCount","len","swap","fromKey","toKey","callback","toModifyKeyMap","item","currentPath","currentDataPath","_actionTypes","_validity","_selectors","_interopRequireWildcard","newObj","createEventMeta","type","event","handler","getEvent","createActionCreators","options","model","memoizedActions","memoizedProps","props","initialize","types","payload","updateValidity","validity","validate","origin","dispatch","getState","noValidate","tasks","resolveAsyncTasks","promises","_ref","task","then","Promise","all","results","result","errors","touchAll","submit","onValidateFinish","isValid","selectors","reset","change","blur","touch","arrayPush","elements","arraySplice","arraySwap","register","unregister","startPending","stopPending","_array","_field","_form","defineProperty","enumerable","get","every","_react","_reactRedux","_objects","_createOnChange","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","writable","configurable","setPrototypeOf","__proto__","_objectWithoutProperties","indexOf","DefaultField","Control","control","rest","_react2","createElement","createField","mapStateToProps","format","formattedValue","mapDispatchToProps","parse","normalize","actions","_createOnChange2","Field","ConnectedField","connect","FormField","_Component","shouldComponentUpdate","nextProps","_objects2","componentWillMount","context","componentWillUnmount","componentWillReceiveProps","render","_context","Component","contextTypes","PropTypes","object","isRequired","string","propTypes","func","defaultProps","displayName","any","shape","bool","arrayOf","valid","message","_createActionCreators","_redux","getActions","getEmbedActions","_createActionCreators2","Form","embedActions","customActions","bindActionCreators","MelonForm","getChildContext","childContextTypes","_index","createReducer","initialValue","customReducers","action","embedReducer","MAP","customReducer","_MAP","actionTypes","reducers","arrayPop","arrayShift","arrayUnshift","setValidateStart","setValidateSucceed","setValidateFailed","_createReducer","_createForm","_createField","createForm","_createReducer2","_createForm2","_createField2","_reactAddonsUpdate","_mapValues","_constants","_dataPathMap","_action$payload","_reactAddonsUpdate2","$apply","currentValue","_action$payload2","currentLength","nextValue","$set","element","_mapValues2","_action$payload3","_action$payload4","_meta","_meta2","nextMeta","_meta3","validating","_meta4","_meta5","_meta6","$merge","pending","_meta7","hasChanged","createOnChange"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react-addons-update\"), require(\"lodash/mapValues\"), require(\"lodash/toPath\"), require(\"react\"), require(\"react-redux\"), require(\"lodash/get\"), require(\"lodash/startsWith\"), require(\"redux\"), require(\"shallow-equal/objects\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react-addons-update\", \"lodash/mapValues\", \"lodash/toPath\", \"react\", \"react-redux\", \"lodash/get\", \"lodash/startsWith\", \"redux\", \"shallow-equal/objects\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"melon-form\"] = factory(require(\"react-addons-update\"), require(\"lodash/mapValues\"), require(\"lodash/toPath\"), require(\"react\"), require(\"react-redux\"), require(\"lodash/get\"), require(\"lodash/startsWith\"), require(\"redux\"), require(\"shallow-equal/objects\"));\n\telse\n\t\troot[\"melon-form\"] = factory(root[\"react-addons-update\"], root[\"lodash/mapValues\"], root[\"lodash/toPath\"], root[\"react\"], root[\"react-redux\"], root[\"lodash/get\"], root[\"lodash/startsWith\"], root[\"redux\"], root[\"shallow-equal/objects\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_22__, __WEBPACK_EXTERNAL_MODULE_23__, __WEBPACK_EXTERNAL_MODULE_24__, __WEBPACK_EXTERNAL_MODULE_25__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react-addons-update\"), require(\"lodash/mapValues\"), require(\"lodash/toPath\"), require(\"react\"), require(\"react-redux\"), require(\"lodash/get\"), require(\"lodash/startsWith\"), require(\"redux\"), require(\"shallow-equal/objects\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react-addons-update\", \"lodash/mapValues\", \"lodash/toPath\", \"react\", \"react-redux\", \"lodash/get\", \"lodash/startsWith\", \"redux\", \"shallow-equal/objects\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"melon-form\"] = factory(require(\"react-addons-update\"), require(\"lodash/mapValues\"), require(\"lodash/toPath\"), require(\"react\"), require(\"react-redux\"), require(\"lodash/get\"), require(\"lodash/startsWith\"), require(\"redux\"), require(\"shallow-equal/objects\"));\n\telse\n\t\troot[\"melon-form\"] = factory(root[\"react-addons-update\"], root[\"lodash/mapValues\"], root[\"lodash/toPath\"], root[\"react\"], root[\"react-redux\"], root[\"lodash/get\"], root[\"lodash/startsWith\"], root[\"redux\"], root[\"shallow-equal/objects\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_22__, __WEBPACK_EXTERNAL_MODULE_23__, __WEBPACK_EXTERNAL_MODULE_24__, __WEBPACK_EXTERNAL_MODULE_25__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(17);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(22), __webpack_require__(11)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof exports !== \"undefined\") {\n\t        factory(exports, require('lodash/get'), require('lodash/toPath'));\n\t    } else {\n\t        var mod = {\n\t            exports: {}\n\t        };\n\t        factory(mod.exports, global.get, global.toPath);\n\t        global.dataPath = mod.exports;\n\t    }\n\t})(this, function (exports, _get, _toPath) {\n\t    'use strict';\n\t\n\t    exports.__esModule = true;\n\t    exports.getIn = undefined;\n\t    exports.setIn = setIn;\n\t    exports.deleteIn = deleteIn;\n\t    exports.compilePath = compilePath;\n\t    exports.walk = walk;\n\t\n\t    var _get2 = _interopRequireDefault(_get);\n\t\n\t    var _toPath2 = _interopRequireDefault(_toPath);\n\t\n\t    function _interopRequireDefault(obj) {\n\t        return obj && obj.__esModule ? obj : {\n\t            default: obj\n\t        };\n\t    }\n\t\n\t    var _extends = Object.assign || function (target) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            var source = arguments[i];\n\t\n\t            for (var key in source) {\n\t                if (Object.prototype.hasOwnProperty.call(source, key)) {\n\t                    target[key] = source[key];\n\t                }\n\t            }\n\t        }\n\t\n\t        return target;\n\t    };\n\t\n\t    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n\t        return typeof obj;\n\t    } : function (obj) {\n\t        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n\t    };\n\t\n\t    var getIn = exports.getIn = _get2['default'];\n\t\n\t    function setInWithPath(state, value, first) {\n\t        var _extends2;\n\t\n\t        if (first === void 0) {\n\t            return value;\n\t        }\n\t\n\t        for (var _len = arguments.length, paths = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n\t            paths[_key - 3] = arguments[_key];\n\t        }\n\t\n\t        var next = setInWithPath.apply(undefined, [state && state[first], value].concat(paths));\n\t\n\t        if ((typeof state === 'undefined' ? 'undefined' : _typeof(state)) !== 'object') {\n\t            state = isNaN(+first) ? {} : [];\n\t        }\n\t\n\t        if (Array.isArray(state)) {\n\t            var copy = state.slice();\n\t            copy[first] = next;\n\t            return copy;\n\t        }\n\t\n\t        return _extends({}, state, (_extends2 = {}, _extends2[first] = next, _extends2));\n\t    }\n\t\n\t    function setIn(state, path, value) {\n\t        return setInWithPath.apply(undefined, [state, value].concat((0, _toPath2['default'])(path)));\n\t    }\n\t\n\t    function deleteInWithPath(state, first) {\n\t\n\t        if (first == null || state == null) {\n\t            return void 0;\n\t        }\n\t\n\t        for (var _len2 = arguments.length, paths = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n\t            paths[_key2 - 2] = arguments[_key2];\n\t        }\n\t\n\t        var next = deleteInWithPath.apply(undefined, [state && state[first]].concat(paths));\n\t\n\t        if ((typeof state === 'undefined' ? 'undefined' : _typeof(state)) !== 'object') {\n\t            state = isNaN(+first) ? {} : [];\n\t        }\n\t\n\t        if (Array.isArray(state)) {\n\t\n\t            var copy = state.slice();\n\t\n\t            if (next !== void 0) {\n\t                copy[first] = next;\n\t                return copy;\n\t            }\n\t\n\t            return [].concat(copy.slice(0, first), copy.slice(first + 1));\n\t        }\n\t\n\t        if (next !== void 0) {\n\t            var _extends3;\n\t\n\t            return _extends({}, state, (_extends3 = {}, _extends3[first] = next, _extends3));\n\t        }\n\t\n\t        var nextState = Object.keys(state).reduce(function (nextState, name) {\n\t\n\t            if (name !== first) {\n\t                nextState[name] = state[name];\n\t            }\n\t\n\t            return nextState;\n\t        }, {});\n\t\n\t        return nextState;\n\t    }\n\t\n\t    function deleteIn(state, path) {\n\t        return deleteInWithPath.apply(undefined, [state].concat((0, _toPath2['default'])(path)));\n\t    }\n\t\n\t    var ARRAY_LIKE_REG = /^\\d+$/;\n\t\n\t    function compilePath(tokens) {\n\t\n\t        if (!tokens || !tokens.length) {\n\t            return '';\n\t        }\n\t\n\t        var pathString = tokens.map(function (token, index) {\n\t            return ARRAY_LIKE_REG.test(token) ? '[' + token + ']' : '.' + token;\n\t        }).join('');\n\t\n\t        return pathString[0] === '.' ? pathString.slice(1) : pathString;\n\t    }\n\t\n\t    function walk(obj, iterator) {\n\t\n\t        var tokens = [];\n\t\n\t        function next(cur) {\n\t\n\t            var isCurrentArray = Array.isArray(cur);\n\t\n\t            Object.keys(cur).forEach(function (key) {\n\t\n\t                var value = cur[key];\n\t\n\t                tokens.push(key);\n\t\n\t                if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n\t                    next(value, iterator);\n\t                } else {\n\t                    iterator(compilePath(tokens), value, isCurrentArray);\n\t                }\n\t\n\t                tokens.pop();\n\t            });\n\t        }\n\t\n\t        next(obj);\n\t    }\n\t});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\t  if (true) {\n\t    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t  } else if (typeof exports !== \"undefined\") {\n\t    factory(exports);\n\t  } else {\n\t    var mod = {\n\t      exports: {}\n\t    };\n\t    factory(mod.exports);\n\t    global.actionTypes = mod.exports;\n\t  }\n\t})(this, function (exports) {\n\t  'use strict';\n\t\n\t  exports.__esModule = true;\n\t  /**\n\t   * @file action types\n\t   * @author leon <ludafa@outlook.com>\n\t   */\n\t\n\t  var PREFIX = 'melon_form';\n\t\n\t  var INITIALIZE = exports.INITIALIZE = PREFIX + '/INITIALIZE';\n\t  var RESET = exports.RESET = PREFIX + '/RESET';\n\t\n\t  var FOCUS = exports.FOCUS = PREFIX + '/FOCUS';\n\t  var CHANGE = exports.CHANGE = PREFIX + '/CHANGE';\n\t  var TOUCH = exports.TOUCH = PREFIX + '/TOUCH';\n\t  var TOUCH_ALL = exports.TOUCH_ALL = PREFIX + '/TOUCH_ALL';\n\t  var BLUR = exports.BLUR = PREFIX + '/BLUR';\n\t\n\t  var ARRAY_SWAP = exports.ARRAY_SWAP = PREFIX + '/ARRAY_SWAP';\n\t  var ARRAY_PUSH = exports.ARRAY_PUSH = PREFIX + '/ARRAY_PUSH';\n\t  var ARRAY_POP = exports.ARRAY_POP = PREFIX + '/ARRAY_POP';\n\t  var ARRAY_SHIFT = exports.ARRAY_SHIFT = PREFIX + '/ARRAY_SHIFT';\n\t  var ARRAY_UNSHIFT = exports.ARRAY_UNSHIFT = PREFIX + '/ARRAY_UNSHIFT';\n\t  var ARRAY_SPLICE = exports.ARRAY_SPLICE = PREFIX + '/ARRAY_SPLICE';\n\t\n\t  var VALIDITY_UPDATE = exports.VALIDITY_UPDATE = PREFIX + '/VALIDITY_UPDATE';\n\t  var ASYNC_VALIDATE_START = exports.ASYNC_VALIDATE_START = PREFIX + '/ASYNC_VALIDITY_START';\n\t  var ASYNC_VALIDATE_SUCCEED = exports.ASYNC_VALIDATE_SUCCEED = PREFIX + '/ASYNC_VALIDITY_SUCCEED';\n\t  var ASYNC_VALIDATE_FAILED = exports.ASYNC_VALIDATE_FAILED = PREFIX + '/ASYNC_VALIDITY_FAILED';\n\t\n\t  var REGISTER = exports.REGISTER = PREFIX + '/REGISTER';\n\t  var UNREGISTER = exports.UNREGISTER = PREFIX + '/UNREGISTER';\n\t\n\t  var PENDING_START = exports.PENDING_START = PREFIX + '/PENDING_START';\n\t  var PENDING_STOP = exports.PENDING_STOP = PREFIX + '/PENDING_STOP';\n\t});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof exports !== \"undefined\") {\n\t        factory(exports);\n\t    } else {\n\t        var mod = {\n\t            exports: {}\n\t        };\n\t        factory(mod.exports);\n\t        global.constants = mod.exports;\n\t    }\n\t})(this, function (exports) {\n\t    \"use strict\";\n\t\n\t    exports.__esModule = true;\n\t    /**\n\t     * @file constants\n\t     * @author leon <ludafa@outlook.com>\n\t     */\n\t\n\t    var DEFAULT_META = exports.DEFAULT_META = {\n\t        touched: false,\n\t        submitting: false,\n\t        focus: false,\n\t        dirty: false,\n\t        error: null\n\t    };\n\t});\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(1)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof exports !== \"undefined\") {\n\t        factory(exports, require('./util/dataPath'));\n\t    } else {\n\t        var mod = {\n\t            exports: {}\n\t        };\n\t        factory(mod.exports, global.dataPath);\n\t        global.selectors = mod.exports;\n\t    }\n\t})(this, function (exports, _dataPath) {\n\t    'use strict';\n\t\n\t    exports.__esModule = true;\n\t    exports.getFormData = getFormData;\n\t    exports.getMeta = getMeta;\n\t    exports.getFieldData = getFieldData;\n\t    function getFormData(store) {\n\t        return store.value;\n\t    } /**\n\t       * @file selectors\n\t       * @author leon <ludafa@outlook.com>\n\t       */\n\t\n\t    function getMeta(store) {\n\t        return store.meta;\n\t    }\n\t\n\t    function getFieldData(store, name) {\n\t\n\t        var formData = getFormData(store);\n\t        var meta = getMeta(store);\n\t\n\t        var data = {\n\t            value: (0, _dataPath.getIn)(formData, name),\n\t            meta: meta[name]\n\t        };\n\t\n\t        return data;\n\t    }\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(1), __webpack_require__(23), __webpack_require__(11)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof exports !== \"undefined\") {\n\t        factory(exports, require('./dataPath'), require('lodash/startsWith'), require('lodash/toPath'));\n\t    } else {\n\t        var mod = {\n\t            exports: {}\n\t        };\n\t        factory(mod.exports, global.dataPath, global.startsWith, global.toPath);\n\t        global.dataPathMap = mod.exports;\n\t    }\n\t})(this, function (exports, _dataPath, _startsWith, _toPath) {\n\t    'use strict';\n\t\n\t    exports.__esModule = true;\n\t    exports.make = make;\n\t    exports.remove = remove;\n\t    exports.move = move;\n\t    exports.splice = splice;\n\t    exports.swap = swap;\n\t    exports.setInWithPath = setInWithPath;\n\t\n\t    var _startsWith2 = _interopRequireDefault(_startsWith);\n\t\n\t    var _toPath2 = _interopRequireDefault(_toPath);\n\t\n\t    function _interopRequireDefault(obj) {\n\t        return obj && obj.__esModule ? obj : {\n\t            default: obj\n\t        };\n\t    }\n\t\n\t    var _extends = Object.assign || function (target) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            var source = arguments[i];\n\t\n\t            for (var key in source) {\n\t                if (Object.prototype.hasOwnProperty.call(source, key)) {\n\t                    target[key] = source[key];\n\t                }\n\t            }\n\t        }\n\t\n\t        return target;\n\t    };\n\t\n\t    function make(obj) {\n\t        var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\t\n\t\n\t        var map = {};\n\t\n\t        (0, _dataPath.walk)(obj, function (dataPath, value, isArray) {\n\t\n\t            if (isArray) {\n\t                dataPath = '' + prefix + dataPath;\n\t            } else if (prefix) {\n\t                dataPath = prefix + '.' + dataPath;\n\t            }\n\t\n\t            map[dataPath] = value;\n\t        });\n\t\n\t        return map;\n\t    }\n\t\n\t    function remove(map, prefix) {\n\t\n\t        return Object.keys(map).reduce(function (nextMap, key) {\n\t\n\t            if (!(0, _startsWith2['default'])(key, prefix)) {\n\t                nextMap[key] = map[key];\n\t            }\n\t\n\t            return nextMap;\n\t        }, {});\n\t    }\n\t\n\t    function move(map, from, to) {\n\t\n\t        return Object.keys(map).reduce(function (nextMap, key) {\n\t\n\t            if ((0, _startsWith2['default'])(key, from)) {\n\t                nextMap[key.replace(from, to)] = map[key];\n\t            } else {\n\t                nextMap[key] = map[key];\n\t            }\n\t\n\t            return nextMap;\n\t        }, {});\n\t    }\n\t\n\t    function add(map, prefix) {\n\t        for (var _len = arguments.length, nodes = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n\t            nodes[_key - 2] = arguments[_key];\n\t        }\n\t\n\t        return nodes.reduce(function (map, node) {\n\t\n\t            return _extends({}, map, make(node, prefix));\n\t        }, map);\n\t    }\n\t\n\t    function splice(map, pointer, arr, start, deleteCount, replacements) {\n\t\n\t        var replaceCount = replacements.length;\n\t\n\t        // 删除\n\t        for (var i = 0; i < deleteCount; i++) {\n\t            map = remove(map, pointer + '[' + (start + i) + ']');\n\t        }\n\t\n\t        // 移动\n\t        if (deleteCount < replaceCount) {\n\t            for (var _i = arr.length - start - deleteCount - 1; _i >= 0; _i--) {\n\t                var from = start + deleteCount + _i;\n\t                var to = start + replacements.length + _i;\n\t                map = move(map, pointer + '[' + from + ']', pointer + '[' + to + ']');\n\t            }\n\t        } else if (deleteCount > replaceCount) {\n\t            for (var _i2 = 0, len = arr.length - start - deleteCount; _i2 < len; _i2++) {\n\t                var _from = start + deleteCount + _i2;\n\t                var _to = start + replacements.length + _i2;\n\t                map = move(map, pointer + '[' + _from + ']', pointer + '[' + _to + ']');\n\t            }\n\t        }\n\t\n\t        // 添加\n\t        for (var _i3 = 0, _len2 = replacements.length; _i3 < _len2; _i3++) {\n\t            map = add(map, pointer + '[' + (start + _i3) + ']', replacements[_i3]);\n\t        }\n\t\n\t        return map;\n\t    }\n\t\n\t    function swap(map, dataPath, from, to) {\n\t\n\t        return Object.keys(map).reduce(function (nextMap, key) {\n\t\n\t            var fromKey = dataPath + '[' + from + ']';\n\t            var toKey = dataPath + '[' + to + ']';\n\t\n\t            if ((0, _startsWith2['default'])(key, fromKey)) {\n\t                nextMap[key] = map[key.replace(fromKey, toKey)];\n\t            } else if ((0, _startsWith2['default'])(key, toKey)) {\n\t                nextMap[key] = map[key.replace(toKey, fromKey)];\n\t            } else {\n\t                nextMap[key] = map[key];\n\t            }\n\t\n\t            return nextMap;\n\t        }, {});\n\t    }\n\t\n\t    function setInWithPath(map, dataPath, callback) {\n\t\n\t        var path = (0, _toPath2['default'])(dataPath);\n\t        var toModifyKeyMap = path.reduce(function (nextMap, item, index, path) {\n\t\n\t            var currentPath = path.slice(0, index + 1);\n\t            var currentDataPath = (0, _dataPath.compilePath)(currentPath);\n\t\n\t            nextMap[currentDataPath] = typeof callback === 'function' ? callback(map[currentDataPath], currentDataPath) : callback;\n\t\n\t            return nextMap;\n\t        }, {});\n\t\n\t        return Object.keys(map).reduce(function (nextMap, key) {\n\t            nextMap[key] = key in toModifyKeyMap ? toModifyKeyMap[key] : map[key];\n\t            return nextMap;\n\t        }, {});\n\t    }\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(2), __webpack_require__(9), __webpack_require__(4)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof exports !== \"undefined\") {\n\t        factory(exports, require('./actionTypes'), require('./util/validity'), require('./selectors'));\n\t    } else {\n\t        var mod = {\n\t            exports: {}\n\t        };\n\t        factory(mod.exports, global.actionTypes, global.validity, global.selectors);\n\t        global.createActionCreators = mod.exports;\n\t    }\n\t})(this, function (exports, _actionTypes, _validity, _selectors) {\n\t    'use strict';\n\t\n\t    exports.__esModule = true;\n\t    exports.default = createActionCreators;\n\t\n\t    var types = _interopRequireWildcard(_actionTypes);\n\t\n\t    var selectors = _interopRequireWildcard(_selectors);\n\t\n\t    function _interopRequireWildcard(obj) {\n\t        if (obj && obj.__esModule) {\n\t            return obj;\n\t        } else {\n\t            var newObj = {};\n\t\n\t            if (obj != null) {\n\t                for (var key in obj) {\n\t                    if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n\t                }\n\t            }\n\t\n\t            newObj.default = obj;\n\t            return newObj;\n\t        }\n\t    }\n\t\n\t    var _extends = Object.assign || function (target) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            var source = arguments[i];\n\t\n\t            for (var key in source) {\n\t                if (Object.prototype.hasOwnProperty.call(source, key)) {\n\t                    target[key] = source[key];\n\t                }\n\t            }\n\t        }\n\t\n\t        return target;\n\t    };\n\t\n\t    function createEventMeta(name, type) {\n\t\n\t        return {\n\t            event: {\n\t                handler: type,\n\t                getEvent: function getEvent(state) {\n\t                    return {\n\t                        name: name,\n\t                        value: state.value\n\t                    };\n\t                }\n\t            }\n\t        };\n\t    }\n\t\n\t    function createActionCreators(options) {\n\t\n\t        var model = options.model;\n\t\n\t        var memoizedActions = void 0;\n\t        var memoizedProps = void 0;\n\t\n\t        return function (props) {\n\t\n\t            if (memoizedActions && props === memoizedProps) {\n\t                return memoizedActions;\n\t            }\n\t\n\t            function initialize(value) {\n\t                return {\n\t                    type: types.INITIALIZE,\n\t                    payload: {\n\t                        value: value,\n\t                        model: model\n\t                    }\n\t                };\n\t            }\n\t\n\t            function updateValidity(validity) {\n\t                return {\n\t                    type: types.VALIDITY_UPDATE,\n\t                    payload: { validity: validity, model: model }\n\t                };\n\t            }\n\t\n\t            function validate(origin) {\n\t\n\t                return function (dispatch, getState) {\n\t\n\t                    var validate = options.validate;\n\t\n\t                    if (props.noValidate || !validate) {\n\t                        return;\n\t                    }\n\t\n\t                    var store = getState();\n\t\n\t                    var validity = validate(model ? store[model] : store, props, origin);\n\t\n\t                    // 找出所有的异步校验\n\t                    var tasks = (0, _validity.resolveAsyncTasks)(validity);\n\t\n\t                    // 如果没有异步校验任务，那么就直接更新校验数据即可\n\t                    if (!tasks.length) {\n\t                        dispatch(updateValidity(validity));\n\t                        return validity;\n\t                    }\n\t\n\t                    // 找到所有的 async validate task\n\t                    // 对每个 task 做处理\n\t                    // 1. 立即触发 async_validate_start\n\t                    // 2. 绑定执行完成处理 async_validate_succeed / failed\n\t\n\t                    var promises = tasks.map(function (_ref) {\n\t                        var name = _ref.name,\n\t                            task = _ref.task;\n\t\n\t\n\t                        dispatch({\n\t                            type: types.ASYNC_VALIDATE_START,\n\t                            payload: { name: name, model: model }\n\t                        });\n\t\n\t                        return task.then(function () {\n\t                            dispatch({\n\t                                type: types.ASYNC_VALIDATE_SUCCEED,\n\t                                payload: {\n\t                                    name: name,\n\t                                    model: model\n\t                                }\n\t                            });\n\t                        }, function (error) {\n\t                            dispatch({\n\t                                type: types.ASYNC_VALIDATE_FAILED,\n\t                                payload: {\n\t                                    name: name,\n\t                                    error: error,\n\t                                    model: model\n\t                                }\n\t                            });\n\t                        });\n\t                    });\n\t\n\t                    return Promise.all(promises).then(function (results) {\n\t                        return results.reduce(function (validity, result, index) {\n\t                            validity[tasks[index].name] = null;\n\t                            return validity;\n\t                        }, _extends({}, validity));\n\t                    }, function (errors) {\n\t                        return errors.reduce(function (validity, result, index) {\n\t                            validity[tasks[index].name] = result;\n\t                            return validity;\n\t                        }, _extends({}, validity));\n\t                    });\n\t                };\n\t            }\n\t\n\t            function touchAll() {\n\t                return {\n\t                    type: types.TOUCH_ALL,\n\t                    payload: { model: model }\n\t                };\n\t            }\n\t\n\t            function submit(callback) {\n\t\n\t                return function (dispatch, getState) {\n\t\n\t                    var state = getState()[model];\n\t\n\t                    function onValidateFinish(validity) {\n\t\n\t                        if ((0, _validity.isValid)(validity)) {\n\t                            callback && callback(selectors.getFormData(state));\n\t                        }\n\t                    }\n\t\n\t                    dispatch(touchAll());\n\t\n\t                    var validity = dispatch(validate());\n\t\n\t                    validity instanceof Promise ? validity.then(onValidateFinish) : onValidateFinish(validity);\n\t                };\n\t            }\n\t\n\t            function reset() {\n\t                return {\n\t                    type: types.RESET,\n\t                    payload: { model: model }\n\t                };\n\t            }\n\t\n\t            function focus(name) {\n\t                return {\n\t                    type: types.FOCUS,\n\t                    payload: { name: name, model: model }\n\t                };\n\t            }\n\t\n\t            function change(name, value) {\n\t                return {\n\t                    type: types.CHANGE,\n\t                    payload: {\n\t                        name: name,\n\t                        value: value,\n\t                        model: model\n\t                    },\n\t                    meta: createEventMeta(name, 'onFieldChange')\n\t                };\n\t            }\n\t\n\t            function blur(name) {\n\t\n\t                return function (dispatch, getState) {\n\t\n\t                    dispatch({\n\t                        type: types.BLUR,\n\t                        payload: { name: name, model: model }\n\t                    });\n\t\n\t                    return dispatch(validate(name));\n\t                };\n\t            }\n\t\n\t            function touch(name) {\n\t                return {\n\t                    type: types.TOUCH,\n\t                    payload: { name: name, model: model }\n\t                };\n\t            }\n\t\n\t            function arrayPush(name) {\n\t                for (var _len = arguments.length, elements = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t                    elements[_key - 1] = arguments[_key];\n\t                }\n\t\n\t                return {\n\t                    type: types.ARRAY_PUSH,\n\t                    payload: {\n\t                        name: name,\n\t                        elements: elements,\n\t                        model: model\n\t                    },\n\t                    meta: createEventMeta(name, 'onFieldChange')\n\t                };\n\t            }\n\t\n\t            function arraySplice(name, start, deleteCount) {\n\t                for (var _len2 = arguments.length, replacements = Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {\n\t                    replacements[_key2 - 3] = arguments[_key2];\n\t                }\n\t\n\t                return {\n\t                    type: types.ARRAY_SPLICE,\n\t                    payload: {\n\t                        name: name,\n\t                        start: start,\n\t                        deleteCount: deleteCount,\n\t                        replacements: replacements,\n\t                        model: model\n\t                    },\n\t                    meta: createEventMeta(name, 'onFieldChange')\n\t                };\n\t            }\n\t\n\t            function arraySwap(name, from, to) {\n\t\n\t                return {\n\t                    type: types.ARRAY_SWAP,\n\t                    payload: {\n\t                        from: from,\n\t                        to: to,\n\t                        name: name,\n\t                        model: model\n\t                    },\n\t                    meta: createEventMeta(name, 'onFieldChange')\n\t                };\n\t            }\n\t\n\t            function register(name) {\n\t                return {\n\t                    type: types.REGISTER,\n\t                    payload: { name: name, model: model }\n\t                };\n\t            }\n\t\n\t            function unregister(name) {\n\t                return {\n\t                    type: types.UNREGISTER,\n\t                    payload: { name: name, model: model }\n\t                };\n\t            }\n\t\n\t            function startPending(name) {\n\t                return {\n\t                    type: types.PENDING_START,\n\t                    payload: { name: name, model: model }\n\t                };\n\t            }\n\t\n\t            function stopPending(name) {\n\t                return {\n\t                    type: types.PENDING_STOP,\n\t                    payload: { name: name, model: model }\n\t                };\n\t            }\n\t\n\t            memoizedActions = {\n\t\n\t                // form\n\t                initialize: initialize,\n\t                submit: submit,\n\t                reset: reset,\n\t                touchAll: touchAll,\n\t\n\t                // form & field\n\t                validate: validate,\n\t\n\t                // field\n\t                register: register,\n\t                unregister: unregister,\n\t                focus: focus,\n\t                change: change,\n\t                blur: blur,\n\t                touch: touch,\n\t                startPending: startPending,\n\t                stopPending: stopPending,\n\t\n\t                // array field\n\t                arrayPush: arrayPush,\n\t                arraySplice: arraySplice,\n\t                arraySwap: arraySwap\n\t            };\n\t\n\t            return memoizedActions;\n\t        };\n\t    }\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\t  if (true) {\n\t    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(18), __webpack_require__(19), __webpack_require__(20)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t  } else if (typeof exports !== \"undefined\") {\n\t    factory(exports, require('./array'), require('./field'), require('./form'));\n\t  } else {\n\t    var mod = {\n\t      exports: {}\n\t    };\n\t    factory(mod.exports, global.array, global.field, global.form);\n\t    global.index = mod.exports;\n\t  }\n\t})(this, function (exports, _array, _field, _form) {\n\t  'use strict';\n\t\n\t  exports.__esModule = true;\n\t  Object.keys(_array).forEach(function (key) {\n\t    if (key === \"default\" || key === \"__esModule\") return;\n\t    Object.defineProperty(exports, key, {\n\t      enumerable: true,\n\t      get: function () {\n\t        return _array[key];\n\t      }\n\t    });\n\t  });\n\t  Object.keys(_field).forEach(function (key) {\n\t    if (key === \"default\" || key === \"__esModule\") return;\n\t    Object.defineProperty(exports, key, {\n\t      enumerable: true,\n\t      get: function () {\n\t        return _field[key];\n\t      }\n\t    });\n\t  });\n\t  Object.keys(_form).forEach(function (key) {\n\t    if (key === \"default\" || key === \"__esModule\") return;\n\t    Object.defineProperty(exports, key, {\n\t      enumerable: true,\n\t      get: function () {\n\t        return _form[key];\n\t      }\n\t    });\n\t  });\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof exports !== \"undefined\") {\n\t        factory(exports);\n\t    } else {\n\t        var mod = {\n\t            exports: {}\n\t        };\n\t        factory(mod.exports);\n\t        global.validity = mod.exports;\n\t    }\n\t})(this, function (exports) {\n\t    'use strict';\n\t\n\t    exports.__esModule = true;\n\t    exports.isValid = isValid;\n\t    exports.resolveAsyncTasks = resolveAsyncTasks;\n\t\n\t    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n\t        return typeof obj;\n\t    } : function (obj) {\n\t        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n\t    };\n\t\n\t    /**\n\t     * @file validity\n\t     * @author leon <ludafa@outlook.com>\n\t     */\n\t\n\t    function isValid(validity) {\n\t\n\t        if (validity == null) {\n\t            return true;\n\t        }\n\t\n\t        return Object.keys(validity).every(function (name) {\n\t            var errors = validity[name];\n\t            return Array.isArray(errors) ? isValid(errors) : !errors;\n\t        });\n\t    }\n\t\n\t    function resolveAsyncTasks(validity) {\n\t\n\t        // 不是 object 或者已是 promise 的不处理\n\t        if (validity == null || (typeof validity === 'undefined' ? 'undefined' : _typeof(validity)) !== 'object') {\n\t            return [];\n\t        }\n\t\n\t        if (validity instanceof Promise) {\n\t            return [{ name: '', task: validity }];\n\t        }\n\t\n\t        // 在 object 中找出 promise，作成一个 [{name, promise}] 的结构\n\t        return Object.keys(validity).reduce(function (tasks, name) {\n\t\n\t            var task = validity[name];\n\t\n\t            if (task instanceof Promise) {\n\t                tasks.push({ name: name, task: task });\n\t            }\n\t\n\t            return tasks;\n\t        }, []);\n\t    }\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_11__;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(12), __webpack_require__(13), __webpack_require__(4), __webpack_require__(25), __webpack_require__(21)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof exports !== \"undefined\") {\n\t        factory(exports, require('react'), require('react-redux'), require('./selectors'), require('shallow-equal/objects'), require('./util/createOnChange'));\n\t    } else {\n\t        var mod = {\n\t            exports: {}\n\t        };\n\t        factory(mod.exports, global.react, global.reactRedux, global.selectors, global.objects, global.createOnChange);\n\t        global.createField = mod.exports;\n\t    }\n\t})(this, function (exports, _react, _reactRedux, _selectors, _objects, _createOnChange) {\n\t    'use strict';\n\t\n\t    exports.__esModule = true;\n\t    exports.default = createField;\n\t\n\t    var _react2 = _interopRequireDefault(_react);\n\t\n\t    var _objects2 = _interopRequireDefault(_objects);\n\t\n\t    var _createOnChange2 = _interopRequireDefault(_createOnChange);\n\t\n\t    function _interopRequireDefault(obj) {\n\t        return obj && obj.__esModule ? obj : {\n\t            default: obj\n\t        };\n\t    }\n\t\n\t    function _classCallCheck(instance, Constructor) {\n\t        if (!(instance instanceof Constructor)) {\n\t            throw new TypeError(\"Cannot call a class as a function\");\n\t        }\n\t    }\n\t\n\t    function _possibleConstructorReturn(self, call) {\n\t        if (!self) {\n\t            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n\t        }\n\t\n\t        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n\t    }\n\t\n\t    function _inherits(subClass, superClass) {\n\t        if (typeof superClass !== \"function\" && superClass !== null) {\n\t            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n\t        }\n\t\n\t        subClass.prototype = Object.create(superClass && superClass.prototype, {\n\t            constructor: {\n\t                value: subClass,\n\t                enumerable: false,\n\t                writable: true,\n\t                configurable: true\n\t            }\n\t        });\n\t        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n\t    }\n\t\n\t    var _extends = Object.assign || function (target) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            var source = arguments[i];\n\t\n\t            for (var key in source) {\n\t                if (Object.prototype.hasOwnProperty.call(source, key)) {\n\t                    target[key] = source[key];\n\t                }\n\t            }\n\t        }\n\t\n\t        return target;\n\t    };\n\t\n\t    function _objectWithoutProperties(obj, keys) {\n\t        var target = {};\n\t\n\t        for (var i in obj) {\n\t            if (keys.indexOf(i) >= 0) continue;\n\t            if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n\t            target[i] = obj[i];\n\t        }\n\t\n\t        return target;\n\t    }\n\t\n\t    /**\n\t     * DefaultField\n\t     *\n\t     * @class\n\t     * @param {*} props 属性\n\t     */\n\t    function DefaultField(props) {\n\t        var Control = props.control,\n\t            rest = _objectWithoutProperties(props, ['control']);\n\t\n\t        return _react2['default'].createElement(Control, rest);\n\t    }\n\t\n\t    DefaultField.propTypes = {\n\t        value: _react.PropTypes.any,\n\t        meta: _react.PropTypes.shape({\n\t            touched: _react.PropTypes.bool.isRequired\n\t        }),\n\t        validity: _react.PropTypes.arrayOf(_react.PropTypes.shape({\n\t            valid: _react.PropTypes.bool.isRequired,\n\t            message: _react.PropTypes.string\n\t        })),\n\t        name: _react.PropTypes.string.isRequired,\n\t        actions: _react.PropTypes.object.isRequired\n\t    };\n\t\n\t    function createField() {\n\t        var Field = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DefaultField;\n\t\n\t\n\t        function mapStateToProps(state, props) {\n\t            var model = props.model,\n\t                name = props.name,\n\t                format = props.format;\n\t\n\t\n\t            var data = (0, _selectors.getFieldData)(state[model], name);\n\t\n\t            var formattedValue = format(data.value, props);\n\t\n\t            return formattedValue === data.value ? data : _extends({}, data, { value: formattedValue });\n\t        }\n\t\n\t        function mapDispatchToProps(dispatch, props) {\n\t            var parse = props.parse,\n\t                normalize = props.normalize,\n\t                actions = props.actions;\n\t\n\t\n\t            var change = (0, _createOnChange2['default'])(actions.change, { parse: parse, normalize: normalize });\n\t\n\t            return {\n\t                actions: _extends({}, actions, {\n\t                    change: change,\n\t                    dispatch: dispatch\n\t                })\n\t            };\n\t        }\n\t\n\t        var ConnectedField = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(Field);\n\t\n\t        /**\n\t         * FormField\n\t         *\n\t         * @class\n\t         * @param {*} props   属性\n\t         * @param {Object} context 上下文\n\t         */\n\t\n\t        var FormField = function (_Component) {\n\t            _inherits(FormField, _Component);\n\t\n\t            function FormField() {\n\t                _classCallCheck(this, FormField);\n\t\n\t                return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n\t            }\n\t\n\t            FormField.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n\t                return !(0, _objects2['default'])(nextProps, this.props);\n\t            };\n\t\n\t            FormField.prototype.componentWillMount = function componentWillMount() {\n\t                this.context.actions.register(this.props.name);\n\t            };\n\t\n\t            FormField.prototype.componentWillUnmount = function componentWillUnmount() {\n\t                this.context.actions.unregister(this.props.name);\n\t            };\n\t\n\t            FormField.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n\t                if (this.props.name !== nextProps.name) {\n\t                    var actions = this.context.actions;\n\t                    actions.unregister(name);\n\t                    actions.register(name);\n\t                }\n\t            };\n\t\n\t            FormField.prototype.render = function render() {\n\t                var _context = this.context,\n\t                    model = _context.model,\n\t                    actions = _context.actions;\n\t\n\t\n\t                return _react2['default'].createElement(ConnectedField, _extends({}, this.props, {\n\t                    actions: actions,\n\t                    model: model }));\n\t            };\n\t\n\t            return FormField;\n\t        }(_react.Component);\n\t\n\t        FormField.contextTypes = {\n\t            actions: _react.PropTypes.object.isRequired,\n\t            model: _react.PropTypes.string.isRequired\n\t        };\n\t\n\t        FormField.propTypes = {\n\t            name: _react.PropTypes.string.isRequired,\n\t            control: _react.PropTypes.func.isRequired,\n\t            format: _react.PropTypes.func,\n\t            parse: _react.PropTypes.func,\n\t            normalize: _react.PropTypes.func\n\t        };\n\t\n\t        FormField.defaultProps = {\n\t            format: function format(value) {\n\t                return value == null ? '' : value;\n\t            }\n\t        };\n\t\n\t        FormField.displayName = 'FormField(' + (Field.displayName || Field.name) + ')';\n\t\n\t        return FormField;\n\t    }\n\t});\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(12), __webpack_require__(7), __webpack_require__(13), __webpack_require__(24)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof exports !== \"undefined\") {\n\t        factory(exports, require('react'), require('./createActionCreators'), require('react-redux'), require('redux'));\n\t    } else {\n\t        var mod = {\n\t            exports: {}\n\t        };\n\t        factory(mod.exports, global.react, global.createActionCreators, global.reactRedux, global.redux);\n\t        global.createForm = mod.exports;\n\t    }\n\t})(this, function (exports, _react, _createActionCreators, _reactRedux, _redux) {\n\t    'use strict';\n\t\n\t    exports.__esModule = true;\n\t\n\t    exports.default = function (options) {\n\t        var model = options.model,\n\t            validate = options.validate,\n\t            getActions = options.getActions;\n\t\n\t\n\t        var getEmbedActions = (0, _createActionCreators2['default'])({ model: model, validate: validate });\n\t\n\t        return function (Form) {\n\t            var MelonForm = function (_Component) {\n\t                _inherits(MelonForm, _Component);\n\t\n\t                function MelonForm() {\n\t                    _classCallCheck(this, MelonForm);\n\t\n\t                    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n\t                }\n\t\n\t                MelonForm.prototype.getChildContext = function getChildContext() {\n\t                    return {\n\t                        actions: this.props.actions,\n\t                        model: model\n\t                    };\n\t                };\n\t\n\t                MelonForm.prototype.render = function render() {\n\t                    return _react2['default'].createElement(Form, this.props);\n\t                };\n\t\n\t                return MelonForm;\n\t            }(_react.Component);\n\t\n\t            MelonForm.propTypes = {\n\t                value: _react.PropTypes.any,\n\t                meta: _react.PropTypes.object.isRequired,\n\t                actions: _react.PropTypes.object.isRequired\n\t            };\n\t\n\t            MelonForm.childContextTypes = {\n\t                actions: _react.PropTypes.object.isRequired,\n\t                model: _react.PropTypes.string.isRequired\n\t            };\n\t\n\t            function mapStateToProps(state, props) {\n\t                return state[model];\n\t            }\n\t\n\t            function mapDispatchToProps(dispatch, props) {\n\t\n\t                var embedActions = getEmbedActions(props);\n\t\n\t                var customActions = typeof getActions === 'function' ? getActions(props, embedActions) : null;\n\t\n\t                var actions = _extends({}, embedActions, customActions);\n\t\n\t                return {\n\t                    dispatch: dispatch,\n\t                    actions: (0, _redux.bindActionCreators)(actions, dispatch)\n\t                };\n\t            }\n\t\n\t            return (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(MelonForm);\n\t        };\n\t    };\n\t\n\t    var _react2 = _interopRequireDefault(_react);\n\n\t    var _createActionCreators2 = _interopRequireDefault(_createActionCreators);\n\n\t    function _interopRequireDefault(obj) {\n\t        return obj && obj.__esModule ? obj : {\n\t            default: obj\n\t        };\n\t    }\n\n\t    var _extends = Object.assign || function (target) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            var source = arguments[i];\n\n\t            for (var key in source) {\n\t                if (Object.prototype.hasOwnProperty.call(source, key)) {\n\t                    target[key] = source[key];\n\t                }\n\t            }\n\t        }\n\n\t        return target;\n\t    };\n\n\t    function _classCallCheck(instance, Constructor) {\n\t        if (!(instance instanceof Constructor)) {\n\t            throw new TypeError(\"Cannot call a class as a function\");\n\t        }\n\t    }\n\n\t    function _possibleConstructorReturn(self, call) {\n\t        if (!self) {\n\t            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n\t        }\n\n\t        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n\t    }\n\n\t    function _inherits(subClass, superClass) {\n\t        if (typeof superClass !== \"function\" && superClass !== null) {\n\t            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n\t        }\n\n\t        subClass.prototype = Object.create(superClass && superClass.prototype, {\n\t            constructor: {\n\t                value: subClass,\n\t                enumerable: false,\n\t                writable: true,\n\t                configurable: true\n\t            }\n\t        });\n\t        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n\t    }\n\t});\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(2), __webpack_require__(8)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof exports !== \"undefined\") {\n\t        factory(exports, require('./actionTypes'), require('./reducers/index'));\n\t    } else {\n\t        var mod = {\n\t            exports: {}\n\t        };\n\t        factory(mod.exports, global.actionTypes, global.index);\n\t        global.createReducer = mod.exports;\n\t    }\n\t})(this, function (exports, _actionTypes, _index) {\n\t    'use strict';\n\t\n\t    exports.__esModule = true;\n\t    exports.default = createReducer;\n\t\n\t    var actionTypes = _interopRequireWildcard(_actionTypes);\n\t\n\t    var reducers = _interopRequireWildcard(_index);\n\t\n\t    function _interopRequireWildcard(obj) {\n\t        if (obj && obj.__esModule) {\n\t            return obj;\n\t        } else {\n\t            var newObj = {};\n\t\n\t            if (obj != null) {\n\t                for (var key in obj) {\n\t                    if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n\t                }\n\t            }\n\t\n\t            newObj.default = obj;\n\t            return newObj;\n\t        }\n\t    }\n\t\n\t    var _MAP;\n\t\n\t    var MAP = (_MAP = {}, _MAP[actionTypes.FOCUS] = reducers.focus, _MAP[actionTypes.CHANGE] = reducers.change, _MAP[actionTypes.TOUCH] = reducers.touch, _MAP[actionTypes.TOUCH_ALL] = reducers.touchAll, _MAP[actionTypes.BLUR] = reducers.blur, _MAP[actionTypes.ARRAY_SWAP] = reducers.arraySwap, _MAP[actionTypes.ARRAY_PUSH] = reducers.arrayPush, _MAP[actionTypes.ARRAY_POP] = reducers.arrayPop, _MAP[actionTypes.ARRAY_SHIFT] = reducers.arrayShift, _MAP[actionTypes.ARRAY_UNSHIFT] = reducers.arrayUnshift, _MAP[actionTypes.ARRAY_SPLICE] = reducers.arraySplice, _MAP[actionTypes.INITIALIZE] = reducers.initialize, _MAP[actionTypes.RESET] = reducers.reset, _MAP[actionTypes.VALIDITY_UPDATE] = reducers.updateValidity, _MAP[actionTypes.ASYNC_VALIDATE_START] = reducers.setValidateStart, _MAP[actionTypes.ASYNC_VALIDATE_SUCCEED] = reducers.setValidateSucceed, _MAP[actionTypes.ASYNC_VALIDATE_FAILED] = reducers.setValidateFailed, _MAP[actionTypes.REGISTER] = reducers.register, _MAP[actionTypes.UNREGISTER] = reducers.unregister, _MAP[actionTypes.PENDING_START] = reducers.startPending, _MAP[actionTypes.PENDING_STOP] = reducers.stopPending, _MAP);\n\t\n\t    function createReducer(model) {\n\t        var initialValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t        var customReducers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t\n\t\n\t        return function () {\n\t            var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { value: initialValue, meta: {} };\n\t            var action = arguments[1];\n\t            var type = action.type,\n\t                payload = action.payload;\n\t\n\t\n\t            var embedReducer = MAP[type];\n\t            var customReducer = customReducers[type];\n\t\n\t            // 跳过\n\t            if (\n\t            // 不是当前绑定域\n\t            payload && payload.model !== model\n\t            // 或者无 reducer 绑定\n\t            || !embedReducer && !customReducer) {\n\t                return state;\n\t            }\n\t\n\t            return customReducer\n\t            // 优先使用自定义 reducer\n\t            ? customReducer(state, action, embedReducer) : embedReducer(state, action);\n\t        };\n\t    }\n\t});\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(9), __webpack_require__(7), __webpack_require__(16), __webpack_require__(15), __webpack_require__(14), __webpack_require__(2), __webpack_require__(4), __webpack_require__(1), __webpack_require__(8)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof exports !== \"undefined\") {\n\t        factory(exports, require('./util/validity'), require('./createActionCreators'), require('./createReducer'), require('./createForm'), require('./createField'), require('./actionTypes'), require('./selectors'), require('./util/dataPath'), require('./reducers/index'));\n\t    } else {\n\t        var mod = {\n\t            exports: {}\n\t        };\n\t        factory(mod.exports, global.validity, global.createActionCreators, global.createReducer, global.createForm, global.createField, global.actionTypes, global.selectors, global.dataPath, global.index);\n\t        global.index = mod.exports;\n\t    }\n\t})(this, function (exports, _validity, _createActionCreators, _createReducer, _createForm, _createField, _actionTypes, _selectors, _dataPath, _index) {\n\t    'use strict';\n\t\n\t    exports.__esModule = true;\n\t    exports.reducers = exports.dataPath = exports.createField = exports.createForm = exports.createReducer = exports.selectors = exports.actionTypes = exports.createActionCreators = exports.Field = undefined;\n\t    Object.keys(_validity).forEach(function (key) {\n\t        if (key === \"default\" || key === \"__esModule\") return;\n\t        Object.defineProperty(exports, key, {\n\t            enumerable: true,\n\t            get: function () {\n\t                return _validity[key];\n\t            }\n\t        });\n\t    });\n\t\n\t    var _createActionCreators2 = _interopRequireDefault(_createActionCreators);\n\t\n\t    var _createReducer2 = _interopRequireDefault(_createReducer);\n\t\n\t    var _createForm2 = _interopRequireDefault(_createForm);\n\t\n\t    var _createField2 = _interopRequireDefault(_createField);\n\t\n\t    var actionTypes = _interopRequireWildcard(_actionTypes);\n\t\n\t    var selectors = _interopRequireWildcard(_selectors);\n\t\n\t    var dataPath = _interopRequireWildcard(_dataPath);\n\t\n\t    var reducers = _interopRequireWildcard(_index);\n\t\n\t    function _interopRequireWildcard(obj) {\n\t        if (obj && obj.__esModule) {\n\t            return obj;\n\t        } else {\n\t            var newObj = {};\n\t\n\t            if (obj != null) {\n\t                for (var key in obj) {\n\t                    if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n\t                }\n\t            }\n\t\n\t            newObj.default = obj;\n\t            return newObj;\n\t        }\n\t    }\n\t\n\t    function _interopRequireDefault(obj) {\n\t        return obj && obj.__esModule ? obj : {\n\t            default: obj\n\t        };\n\t    }\n\t\n\t    var Field = exports.Field = (0, _createField2['default'])(); /**\n\t                                                                  * @file melon-form\n\t                                                                  * @author leon <ludafa@outlook.com>\n\t                                                                  */\n\t\n\t    exports.createActionCreators = _createActionCreators2['default'];\n\t    exports.actionTypes = actionTypes;\n\t    exports.selectors = selectors;\n\t    exports.createReducer = _createReducer2['default'];\n\t    exports.createForm = _createForm2['default'];\n\t    exports.createField = _createField2['default'];\n\t    exports.dataPath = dataPath;\n\t    exports.reducers = reducers;\n\t});\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(6), __webpack_require__(10), __webpack_require__(3), __webpack_require__(5), __webpack_require__(1)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof exports !== \"undefined\") {\n\t        factory(exports, require('react-addons-update'), require('lodash/mapValues'), require('../constants'), require('../util/dataPathMap'), require('../util/dataPath'));\n\t    } else {\n\t        var mod = {\n\t            exports: {}\n\t        };\n\t        factory(mod.exports, global.reactAddonsUpdate, global.mapValues, global.constants, global.dataPathMap, global.dataPath);\n\t        global.array = mod.exports;\n\t    }\n\t})(this, function (exports, _reactAddonsUpdate, _mapValues, _constants, _dataPathMap, _dataPath) {\n\t    'use strict';\n\t\n\t    exports.__esModule = true;\n\t    exports.arraySwap = arraySwap;\n\t    exports.arrayPush = arrayPush;\n\t    exports.arrayPop = arrayPop;\n\t    exports.arrayShift = arrayShift;\n\t    exports.arrayUnshift = arrayUnshift;\n\t    exports.arraySplice = arraySplice;\n\t\n\t    var _reactAddonsUpdate2 = _interopRequireDefault(_reactAddonsUpdate);\n\t\n\t    var _mapValues2 = _interopRequireDefault(_mapValues);\n\t\n\t    function _interopRequireDefault(obj) {\n\t        return obj && obj.__esModule ? obj : {\n\t            default: obj\n\t        };\n\t    }\n\t\n\t    var _extends = Object.assign || function (target) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            var source = arguments[i];\n\t\n\t            for (var key in source) {\n\t                if (Object.prototype.hasOwnProperty.call(source, key)) {\n\t                    target[key] = source[key];\n\t                }\n\t            }\n\t        }\n\t\n\t        return target;\n\t    };\n\t\n\t    function arraySwap(state, action) {\n\t        var _action$payload = action.payload,\n\t            name = _action$payload.name,\n\t            from = _action$payload.from,\n\t            to = _action$payload.to;\n\t\n\t\n\t        if (from === to) {\n\t            return state;\n\t        }\n\t\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t            value: {\n\t                $apply: function $apply(value) {\n\t                    if (from > to) {\n\t                        var _ref = [to, from];\n\t                        from = _ref[0];\n\t                        to = _ref[1];\n\t                    }\n\t\n\t                    var currentValue = (0, _dataPath.getIn)(value, name);\n\t\n\t                    return (0, _dataPath.setIn)(value, name, [].concat(currentValue.slice(0, from), [currentValue[to]], currentValue.slice(from + 1, to), [currentValue[from]], currentValue.slice(to + 1)));\n\t                }\n\t            },\n\t            meta: {\n\t                $apply: function $apply(meta) {\n\t                    return (0, _dataPathMap.setInWithPath)((0, _dataPathMap.swap)(meta, name, from, to), name, function (data) {\n\t                        return _extends({}, data, { touched: true });\n\t                    });\n\t                }\n\t            }\n\t        });\n\t    }\n\t\n\t    function arrayPush(state, action) {\n\t        var _action$payload2 = action.payload,\n\t            name = _action$payload2.name,\n\t            elements = _action$payload2.elements;\n\t        var value = state.value,\n\t            meta = state.meta;\n\t\n\t\n\t        var currentValue = (0, _dataPath.getIn)(value, name) || [];\n\t        var currentLength = currentValue.length;\n\t        var nextValue = (0, _dataPath.setIn)(value, name, [].concat(currentValue, elements));\n\t\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t            value: {\n\t                $set: nextValue\n\t            },\n\t            meta: {\n\t                $set: elements.reduce(function (meta, element, i) {\n\t\n\t                    return _extends({}, meta, (0, _mapValues2['default'])((0, _dataPathMap.make)(element, name + '[' + (currentLength + i) + ']'), function () {\n\t                        return _constants.DEFAULT_META;\n\t                    }));\n\t                }, meta)\n\t            }\n\t        });\n\t    }\n\t\n\t    function arrayPop(state, action) {\n\t\n\t        var name = action.payload.name;\n\t\n\t        var value = state.value,\n\t            meta = state.meta;\n\t\n\t\n\t        var currentValue = (0, _dataPath.getIn)(value, name);\n\t        var nextValue = (0, _dataPath.setIn)(value, name, currentValue.slice(0, -1));\n\t\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t            value: {\n\t                $set: nextValue\n\t            },\n\t            meta: {\n\t                $set: (0, _dataPathMap.remove)(meta, name + '[' + (currentValue.length - 1) + ']')\n\t            }\n\t        });\n\t    }\n\t\n\t    function arrayShift(state, action) {\n\t\n\t        var name = action.payload.name;\n\t\n\t        var value = state.value,\n\t            meta = state.meta;\n\t\n\t\n\t        var currentValue = (0, _dataPath.getIn)(value, name);\n\t        var nextValue = (0, _dataPath.setIn)(value, name, currentValue.slice(1));\n\t\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t            value: {\n\t                $set: nextValue\n\t            },\n\t            meta: {\n\t                $set: (0, _dataPathMap.splice)(meta, name, currentValue, 0, 1, [])\n\t            }\n\t        });\n\t    }\n\t\n\t    function arrayUnshift(state, action) {\n\t        var _action$payload3 = action.payload,\n\t            name = _action$payload3.name,\n\t            elements = _action$payload3.elements;\n\t        var value = state.value,\n\t            meta = state.meta;\n\t\n\t\n\t        var currentValue = (0, _dataPath.getIn)(value, name);\n\t        var nextValue = (0, _dataPath.setIn)(value, name, [].concat(elements, currentValue));\n\t\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t            value: {\n\t                $set: nextValue\n\t            },\n\t            meta: {\n\t                $set: (0, _dataPathMap.splice)(meta, name, currentValue, 0, 0, elements)\n\t            }\n\t        });\n\t    }\n\t\n\t    function arraySplice(state, action) {\n\t        var _action$payload4 = action.payload,\n\t            name = _action$payload4.name,\n\t            start = _action$payload4.start,\n\t            deleteCount = _action$payload4.deleteCount,\n\t            replacements = _action$payload4.replacements;\n\t        var value = state.value,\n\t            meta = state.meta;\n\t\n\t\n\t        var currentValue = (0, _dataPath.getIn)(value, name);\n\t        var nextValue = (0, _dataPath.setIn)(value, name, [].concat(currentValue.slice(0, start), replacements, currentValue.slice(start + deleteCount)));\n\t\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t            value: {\n\t                $set: nextValue\n\t            },\n\t            meta: {\n\t                $set: (0, _dataPathMap.splice)(meta, name, currentValue, start, deleteCount, replacements)\n\t            }\n\t        });\n\t    }\n\t});\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(6), __webpack_require__(5), __webpack_require__(1), __webpack_require__(3)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof exports !== \"undefined\") {\n\t        factory(exports, require('react-addons-update'), require('../util/dataPathMap'), require('../util/dataPath'), require('../constants'));\n\t    } else {\n\t        var mod = {\n\t            exports: {}\n\t        };\n\t        factory(mod.exports, global.reactAddonsUpdate, global.dataPathMap, global.dataPath, global.constants);\n\t        global.field = mod.exports;\n\t    }\n\t})(this, function (exports, _reactAddonsUpdate, _dataPathMap, _dataPath, _constants) {\n\t    'use strict';\n\t\n\t    exports.__esModule = true;\n\t    exports.focus = focus;\n\t    exports.blur = blur;\n\t    exports.touch = touch;\n\t    exports.change = change;\n\t    exports.updateValidity = updateValidity;\n\t    exports.register = register;\n\t    exports.unregister = unregister;\n\t    exports.setValidateStart = setValidateStart;\n\t    exports.setValidateSucceed = setValidateSucceed;\n\t    exports.setValidateFailed = setValidateFailed;\n\t    exports.startPending = startPending;\n\t    exports.stopPending = stopPending;\n\t\n\t    var _reactAddonsUpdate2 = _interopRequireDefault(_reactAddonsUpdate);\n\t\n\t    function _interopRequireDefault(obj) {\n\t        return obj && obj.__esModule ? obj : {\n\t            default: obj\n\t        };\n\t    }\n\t\n\t    var _extends = Object.assign || function (target) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            var source = arguments[i];\n\t\n\t            for (var key in source) {\n\t                if (Object.prototype.hasOwnProperty.call(source, key)) {\n\t                    target[key] = source[key];\n\t                }\n\t            }\n\t        }\n\t\n\t        return target;\n\t    };\n\t\n\t    function focus(state, action) {\n\t        var _meta;\n\t\n\t        var name = action.payload.name;\n\t\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t            meta: (_meta = {}, _meta[name] = {\n\t                focus: { $set: true }\n\t            }, _meta)\n\t        });\n\t    }\n\t\n\t    function blur(state, action) {\n\t        var _meta2;\n\t\n\t        var name = action.payload.name;\n\t\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t            meta: (_meta2 = {}, _meta2[name] = {\n\t                focus: { $set: false }\n\t            }, _meta2)\n\t        });\n\t    }\n\t\n\t    function touch(state, action) {\n\t\n\t        var name = action.payload.name;\n\t\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t            meta: {\n\t                $apply: function $apply(meta) {\n\t                    return (0, _dataPathMap.setInWithPath)(meta, name, function (data) {\n\t                        return _extends({}, data, {\n\t                            touched: true\n\t                        });\n\t                    });\n\t                }\n\t            }\n\t        });\n\t    }\n\t\n\t    function change(state, action) {\n\t        var _action$payload = action.payload,\n\t            name = _action$payload.name,\n\t            value = _action$payload.value;\n\t\n\t\n\t        if ((0, _dataPath.getIn)(state.value) === value) {\n\t            return state;\n\t        }\n\t\n\t        var nextValue = (0, _dataPath.setIn)(state.value, name, value);\n\t\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t            meta: {\n\t                $apply: function $apply(meta) {\n\t                    return (0, _dataPathMap.setInWithPath)(meta, name, function (data) {\n\t                        return _extends({}, data, {\n\t                            touched: true\n\t                        });\n\t                    });\n\t                }\n\t            },\n\t            value: {\n\t                $set: nextValue\n\t            }\n\t        });\n\t    }\n\t\n\t    function updateValidity(state, action) {\n\t\n\t        var validity = action.payload.validity;\n\t\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t            meta: {\n\t                $apply: function $apply(meta) {\n\t                    return Object.keys(meta).reduce(function (nextMeta, key) {\n\t\n\t                        nextMeta[key] = _extends({}, meta[key], {\n\t                            error: validity && validity[key] || ''\n\t                        });\n\t\n\t                        return nextMeta;\n\t                    }, {});\n\t                }\n\t            }\n\t        });\n\t    }\n\t\n\t    function register(state, action) {\n\t        var _meta3;\n\t\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t            meta: (_meta3 = {}, _meta3[action.payload.name] = {\n\t                $set: _constants.DEFAULT_META\n\t            }, _meta3)\n\t        });\n\t    }\n\t\n\t    function unregister(state, action) {\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t            meta: {\n\t                $apply: function $apply(meta) {\n\t                    return (0, _dataPath.deleteIn)(meta, action.payload.name);\n\t                }\n\t            }\n\t        });\n\t    }\n\t\n\t    function setValidateStart(state, action) {\n\t\n\t        var name = action.payload.name;\n\t\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t\n\t            meta: {\n\t                $apply: function $apply(meta) {\n\t\n\t                    return Object.keys(meta).reduce(function (nextMeta, key) {\n\t\n\t                        nextMeta[key] = _extends({}, meta[key], {\n\t\n\t                            // 不指定 name 或者等于指定 name\n\t                            validating: !name || key === name,\n\t\n\t                            // 如果是 form validate 即无 name，那么同步校验已通过，error 设置为 null\n\t                            // 如果是 field validate 即有 name，指定 name 的要保留，否则清空\n\t                            error: name === key ? null : meta[key].error\n\t                        });\n\t\n\t                        return nextMeta;\n\t                    }, {});\n\t                }\n\t            }\n\t\n\t        });\n\t    }\n\t\n\t    function setValidateSucceed(state, action) {\n\t        var _meta4;\n\t\n\t        var name = action.payload.name;\n\t\n\t        return name ? (0, _reactAddonsUpdate2['default'])(state, {\n\t            meta: (_meta4 = {}, _meta4[name] = {\n\t                $apply: function $apply(meta) {\n\t                    return _extends({}, meta, {\n\t                        validating: false,\n\t                        error: null\n\t                    });\n\t                }\n\t            }, _meta4)\n\t        }) : (0, _reactAddonsUpdate2['default'])(state, {\n\t            meta: {\n\t                $apply: function $apply(meta) {\n\t\n\t                    return Object.keys(meta).reduce(function (nextMeta, key) {\n\t\n\t                        nextMeta[key] = _extends({}, meta[key], {\n\t                            validating: false,\n\t                            error: null\n\t                        });\n\t\n\t                        return nextMeta;\n\t                    }, {});\n\t                }\n\t            }\n\t        });\n\t    }\n\t\n\t    function setValidateFailed(state, action) {\n\t        var _meta5;\n\t\n\t        var _action$payload2 = action.payload,\n\t            name = _action$payload2.name,\n\t            error = _action$payload2.error;\n\t\n\t\n\t        return name ? (0, _reactAddonsUpdate2['default'])(state, {\n\t            meta: (_meta5 = {}, _meta5[name] = {\n\t                $apply: function $apply(meta) {\n\t                    return _extends({}, meta, {\n\t                        validating: false,\n\t                        error: error\n\t                    });\n\t                }\n\t            }, _meta5)\n\t        }) : (0, _reactAddonsUpdate2['default'])(state, {\n\t            meta: {\n\t                $apply: function $apply(meta) {\n\t\n\t                    return Object.keys(meta).reduce(function (nextMeta, key) {\n\t\n\t                        nextMeta[key] = _extends({}, meta[key], {\n\t                            validating: false,\n\t                            error: error\n\t                        });\n\t\n\t                        return nextMeta;\n\t                    }, {});\n\t                }\n\t            }\n\t        });\n\t    }\n\t\n\t    function startPending(state, action) {\n\t        var _meta6;\n\t\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t            meta: (_meta6 = {}, _meta6[action.payload.name] = {\n\t                $merge: { pending: true }\n\t            }, _meta6)\n\t        });\n\t    }\n\t\n\t    function stopPending(state, action) {\n\t        var _meta7;\n\t\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t            meta: (_meta7 = {}, _meta7[action.payload.name] = {\n\t                $merge: { pending: false }\n\t            }, _meta7)\n\t        });\n\t    }\n\t});\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(6), __webpack_require__(10), __webpack_require__(5), __webpack_require__(3)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof exports !== \"undefined\") {\n\t        factory(exports, require('react-addons-update'), require('lodash/mapValues'), require('../util/dataPathMap'), require('../constants'));\n\t    } else {\n\t        var mod = {\n\t            exports: {}\n\t        };\n\t        factory(mod.exports, global.reactAddonsUpdate, global.mapValues, global.dataPathMap, global.constants);\n\t        global.form = mod.exports;\n\t    }\n\t})(this, function (exports, _reactAddonsUpdate, _mapValues, _dataPathMap, _constants) {\n\t    'use strict';\n\t\n\t    exports.__esModule = true;\n\t    exports.initialize = initialize;\n\t    exports.reset = reset;\n\t    exports.touchAll = touchAll;\n\t\n\t    var _reactAddonsUpdate2 = _interopRequireDefault(_reactAddonsUpdate);\n\t\n\t    var _mapValues2 = _interopRequireDefault(_mapValues);\n\t\n\t    function _interopRequireDefault(obj) {\n\t        return obj && obj.__esModule ? obj : {\n\t            default: obj\n\t        };\n\t    }\n\t\n\t    var _extends = Object.assign || function (target) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            var source = arguments[i];\n\t\n\t            for (var key in source) {\n\t                if (Object.prototype.hasOwnProperty.call(source, key)) {\n\t                    target[key] = source[key];\n\t                }\n\t            }\n\t        }\n\t\n\t        return target;\n\t    };\n\t\n\t    function initialize(state, action) {\n\t\n\t        var value = action.payload.value;\n\t\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t            value: {\n\t                $set: value\n\t            },\n\t            meta: {\n\t                $set: (0, _mapValues2['default'])((0, _dataPathMap.make)(value), function () {\n\t                    return _constants.DEFAULT_META;\n\t                })\n\t            }\n\t        });\n\t    }\n\t\n\t    function reset(state, action) {\n\t        // TODO\n\t    }\n\t\n\t    function touchAll(state) {\n\t\n\t        return (0, _reactAddonsUpdate2['default'])(state, {\n\t            meta: {\n\t                $apply: function $apply(meta) {\n\t\n\t                    var hasChanged = false;\n\t                    var nextMeta = {};\n\t\n\t                    /* eslint-disable fecs-use-for-of */\n\t                    for (var key in meta) {\n\t                        if (meta.hasOwnProperty(key)) {\n\t\n\t                            if (meta[key].touched) {\n\t                                nextMeta[key] = meta[key];\n\t                            } else {\n\t                                nextMeta[key] = _extends({}, meta[key], {\n\t                                    touched: true\n\t                                });\n\t                                hasChanged = true;\n\t                            }\n\t                        }\n\t                    }\n\t                    /* eslint-enable fecs-use-for-of */\n\t\n\t                    return hasChanged ? nextMeta : meta;\n\t                }\n\t            }\n\t        });\n\t    }\n\t});\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof exports !== \"undefined\") {\n\t        factory(exports);\n\t    } else {\n\t        var mod = {\n\t            exports: {}\n\t        };\n\t        factory(mod.exports);\n\t        global.createOnChange = mod.exports;\n\t    }\n\t})(this, function (exports) {\n\t    \"use strict\";\n\t\n\t    exports.__esModule = true;\n\t    exports.default = createOnChange;\n\t    /**\n\t     * @file create onChange handler\n\t     * @author leon <ludafa@outlook.com>\n\t     */\n\t\n\t    function createOnChange(change, _ref) {\n\t        var parse = _ref.parse,\n\t            normalize = _ref.normalize;\n\t\n\t\n\t        return function (name, value) {\n\t\n\t            if (parse) {\n\t                value = parse(value);\n\t            }\n\t\n\t            if (normalize) {\n\t                value = normalize(value);\n\t            }\n\t\n\t            change(name, value);\n\t        };\n\t    }\n\t});\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_23__;\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_24__;\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_25__;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 06202458006d5bac2231","/**\n * @file data path operation\n * @author leon <ludafa@outlook.com>\n */\n\nimport get from 'lodash/get';\nimport toPath from 'lodash/toPath';\n\nexport const getIn = get;\n\nfunction setInWithPath(state, value, first, ...paths) {\n\n    if (first === void 0) {\n        return value;\n    }\n\n    let next = setInWithPath(state && state[first], value, ...paths);\n\n    if (typeof state !== 'object') {\n        state = isNaN(+first) ? {} : [];\n    }\n\n    if (Array.isArray(state)) {\n        let copy = state.slice();\n        copy[first] = next;\n        return copy;\n    }\n\n    return {\n        ...state,\n        [first]: next\n    };\n\n}\n\nexport function setIn(state, path, value) {\n    return setInWithPath(state, value, ...toPath(path));\n}\n\nfunction deleteInWithPath(state, first, ...paths) {\n\n    if (first == null || state == null) {\n        return void 0;\n    }\n\n    let next = deleteInWithPath(state && state[first], ...paths);\n\n    if (typeof state !== 'object') {\n        state = isNaN(+first) ? {} : [];\n    }\n\n    if (Array.isArray(state)) {\n\n        let copy = state.slice();\n\n        if (next !== void 0) {\n            copy[first] = next;\n            return copy;\n        }\n\n        return [\n            ...copy.slice(0, first),\n            ...copy.slice(first + 1)\n        ];\n\n    }\n\n    if (next !== void 0) {\n        return {\n            ...state,\n            [first]: next\n        };\n    }\n\n    const nextState = Object\n        .keys(state)\n        .reduce((nextState, name) => {\n\n            if (name !== first) {\n                nextState[name] = state[name];\n            }\n\n            return nextState;\n\n        }, {});\n\n    return nextState;\n\n}\n\nexport function deleteIn(state, path) {\n    return deleteInWithPath(state, ...toPath(path));\n}\n\nconst ARRAY_LIKE_REG = /^\\d+$/;\n\nexport function compilePath(tokens) {\n\n    if (!tokens || !tokens.length) {\n        return '';\n    }\n\n    const pathString = tokens\n        .map((token, index) => (\n            ARRAY_LIKE_REG.test(token) ? `[${token}]` : `.${token}`)\n        )\n        .join('');\n\n    return pathString[0] === '.' ? pathString.slice(1) : pathString;\n\n}\n\nexport function walk(obj, iterator) {\n\n    const tokens = [];\n\n    function next(cur) {\n\n        let isCurrentArray = Array.isArray(cur);\n\n        Object.keys(cur).forEach(key => {\n\n            const value = cur[key];\n\n            tokens.push(key);\n\n            if (typeof value === 'object') {\n                next(value, iterator);\n            }\n            else {\n                iterator(compilePath(tokens), value, isCurrentArray);\n            }\n\n            tokens.pop();\n\n        });\n    }\n\n    next(obj);\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/dataPath.js","/**\n * @file action types\n * @author leon <ludafa@outlook.com>\n */\n\nconst PREFIX = 'melon_form';\n\nexport const INITIALIZE = `${PREFIX}/INITIALIZE`;\nexport const RESET = `${PREFIX}/RESET`;\n\nexport const FOCUS = `${PREFIX}/FOCUS`;\nexport const CHANGE = `${PREFIX}/CHANGE`;\nexport const TOUCH = `${PREFIX}/TOUCH`;\nexport const TOUCH_ALL = `${PREFIX}/TOUCH_ALL`;\nexport const BLUR = `${PREFIX}/BLUR`;\n\nexport const ARRAY_SWAP = `${PREFIX}/ARRAY_SWAP`;\nexport const ARRAY_PUSH = `${PREFIX}/ARRAY_PUSH`;\nexport const ARRAY_POP = `${PREFIX}/ARRAY_POP`;\nexport const ARRAY_SHIFT = `${PREFIX}/ARRAY_SHIFT`;\nexport const ARRAY_UNSHIFT = `${PREFIX}/ARRAY_UNSHIFT`;\nexport const ARRAY_SPLICE = `${PREFIX}/ARRAY_SPLICE`;\n\nexport const VALIDITY_UPDATE = `${PREFIX}/VALIDITY_UPDATE`;\nexport const ASYNC_VALIDATE_START = `${PREFIX}/ASYNC_VALIDITY_START`;\nexport const ASYNC_VALIDATE_SUCCEED = `${PREFIX}/ASYNC_VALIDITY_SUCCEED`;\nexport const ASYNC_VALIDATE_FAILED = `${PREFIX}/ASYNC_VALIDITY_FAILED`;\n\nexport const REGISTER = `${PREFIX}/REGISTER`;\nexport const UNREGISTER = `${PREFIX}/UNREGISTER`;\n\nexport const PENDING_START = `${PREFIX}/PENDING_START`;\nexport const PENDING_STOP = `${PREFIX}/PENDING_STOP`;\n\n\n\n// WEBPACK FOOTER //\n// ./src/actionTypes.js","/**\n * @file constants\n * @author leon <ludafa@outlook.com>\n */\n\nexport const DEFAULT_META = {\n    touched: false,\n    submitting: false,\n    focus: false,\n    dirty: false,\n    error: null\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js","/**\n * @file selectors\n * @author leon <ludafa@outlook.com>\n */\n\nimport {getIn} from './util/dataPath';\n\nexport function getFormData(store) {\n    return store.value;\n}\n\nexport function getMeta(store) {\n    return store.meta;\n}\n\nexport function getFieldData(store, name) {\n\n    const formData = getFormData(store);\n    const meta = getMeta(store);\n\n    const data = {\n        value: getIn(formData, name),\n        meta: meta[name]\n    };\n\n    return data;\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/selectors.js","/**\n * @file data path map\n * @author leon <ludafa@outlook.com>\n */\n\nimport {walk} from './dataPath';\nimport startsWith from 'lodash/startsWith';\nimport toPath from 'lodash/toPath';\nimport {compilePath} from './dataPath';\n\nexport function make(obj, prefix = '') {\n\n    const map = {};\n\n    walk(obj, (dataPath, value, isArray) => {\n\n        if (isArray) {\n            dataPath = `${prefix}${dataPath}`;\n        }\n        else if (prefix) {\n            dataPath = `${prefix}.${dataPath}`;\n        }\n\n        map[dataPath] = value;\n\n    });\n\n    return map;\n\n}\n\nexport function remove(map, prefix) {\n\n    return Object\n        .keys(map)\n        .reduce((nextMap, key) => {\n\n            if (!startsWith(key, prefix)) {\n                nextMap[key] = map[key];\n            }\n\n            return nextMap;\n\n        }, {});\n\n}\n\nexport function move(map, from, to) {\n\n    return Object\n        .keys(map)\n        .reduce((nextMap, key) => {\n\n            if (startsWith(key, from)) {\n                nextMap[key.replace(from, to)] = map[key];\n            }\n            else {\n                nextMap[key] = map[key];\n            }\n\n            return nextMap;\n\n        }, {});\n\n}\n\nfunction add(map, prefix, ...nodes) {\n\n    return nodes\n        .reduce((map, node) => {\n\n            return {\n                ...map,\n                ...make(node, prefix)\n            };\n\n        }, map);\n\n}\n\nexport function splice(\n    map, pointer,\n    arr, start, deleteCount, replacements\n) {\n\n    const replaceCount = replacements.length;\n\n    // 删除\n    for (let i = 0; i < deleteCount; i++) {\n        map = remove(map, `${pointer}[${start + i}]`);\n    }\n\n    // 移动\n    if (deleteCount < replaceCount) {\n        for (let i = arr.length - start - deleteCount - 1; i >= 0; i--) {\n            let from = start + deleteCount + i;\n            let to = start + replacements.length + i;\n            map = move(map, `${pointer}[${from}]`, `${pointer}[${to}]`);\n        }\n    }\n    else if (deleteCount > replaceCount) {\n        for (\n            let i = 0, len = arr.length - start - deleteCount;\n            i < len;\n            i++\n        ) {\n            let from = start + deleteCount + i;\n            let to = start + replacements.length + i;\n            map = move(map, `${pointer}[${from}]`, `${pointer}[${to}]`);\n        }\n    }\n\n\n    // 添加\n    for (let i = 0, len = replacements.length; i < len; i++) {\n        map = add(map, `${pointer}[${start + i}]`, replacements[i]);\n    }\n\n    return map;\n\n}\n\nexport function swap(map, dataPath, from, to) {\n\n    return Object\n        .keys(map)\n        .reduce((nextMap, key) => {\n\n            let fromKey = `${dataPath}[${from}]`;\n            let toKey = `${dataPath}[${to}]`;\n\n            if (startsWith(key, fromKey)) {\n                nextMap[key] = map[key.replace(fromKey, toKey)];\n            }\n            else if (startsWith(key, toKey)) {\n                nextMap[key] = map[key.replace(toKey, fromKey)];\n            }\n            else {\n                nextMap[key] = map[key];\n            }\n\n            return nextMap;\n\n        }, {});\n\n}\n\nexport function setInWithPath(map, dataPath, callback) {\n\n    const path = toPath(dataPath);\n    const toModifyKeyMap = path\n        .reduce((nextMap, item, index, path) => {\n\n            const currentPath = path.slice(0, index + 1);\n            const currentDataPath = compilePath(currentPath);\n\n            nextMap[currentDataPath] = typeof callback === 'function'\n                ? callback(map[currentDataPath], currentDataPath)\n                : callback;\n\n            return nextMap;\n\n        }, {});\n\n    return Object\n        .keys(map)\n        .reduce((nextMap, key) => {\n            nextMap[key] = key in toModifyKeyMap ? toModifyKeyMap[key] : map[key];\n            return nextMap;\n        }, {});\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/dataPathMap.js","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-addons-update\"\n// module id = 6\n// module chunks = 0","/**\n * @file action creators factory\n * @author leon <ludafa@outlook.com>\n */\n\nimport * as types from './actionTypes';\nimport {isValid, resolveAsyncTasks} from './util/validity';\nimport * as selectors from './selectors';\n\nfunction createEventMeta(name, type) {\n\n    return {\n        event: {\n            handler: type,\n            getEvent(state) {\n                return {\n                    name,\n                    value: state.value\n                };\n            }\n        }\n    };\n\n}\n\nexport default function createActionCreators(options) {\n\n    let model = options.model;\n\n    let memoizedActions;\n    let memoizedProps;\n\n    return props => {\n\n        if (memoizedActions && props === memoizedProps) {\n            return memoizedActions;\n        }\n\n        function initialize(value) {\n            return {\n                type: types.INITIALIZE,\n                payload: {\n                    value,\n                    model\n                }\n            };\n        }\n\n        function updateValidity(validity) {\n            return {\n                type: types.VALIDITY_UPDATE,\n                payload: {validity, model}\n            };\n        }\n\n        function validate(origin) {\n\n            return (dispatch, getState) => {\n\n                let validate = options.validate;\n\n                if (props.noValidate || !validate) {\n                    return;\n                }\n\n                let store = getState();\n\n                let validity = validate(\n                    model ? store[model] : store,\n                    props,\n                    origin\n                );\n\n                // 找出所有的异步校验\n                let tasks = resolveAsyncTasks(validity);\n\n                // 如果没有异步校验任务，那么就直接更新校验数据即可\n                if (!tasks.length) {\n                    dispatch(updateValidity(validity));\n                    return validity;\n                }\n\n                // 找到所有的 async validate task\n                // 对每个 task 做处理\n                // 1. 立即触发 async_validate_start\n                // 2. 绑定执行完成处理 async_validate_succeed / failed\n\n                let promises = tasks\n                    .map(({name, task}) => {\n\n                        dispatch({\n                            type: types.ASYNC_VALIDATE_START,\n                            payload: {name, model}\n                        });\n\n                        return task.then(\n                            () => {\n                                dispatch({\n                                    type: types.ASYNC_VALIDATE_SUCCEED,\n                                    payload: {\n                                        name,\n                                        model\n                                    }\n                                });\n                            },\n                            error => {\n                                dispatch({\n                                    type: types.ASYNC_VALIDATE_FAILED,\n                                    payload: {\n                                        name,\n                                        error,\n                                        model\n                                    }\n                                });\n                            }\n                        );\n\n                    });\n\n                return Promise.all(promises).then(\n                    results => results.reduce(\n                        (validity, result, index) => {\n                            validity[tasks[index].name] = null;\n                            return validity;\n                        },\n                        {\n                            ...validity\n                        }\n                    ),\n                    errors => errors.reduce(\n                        (validity, result, index) => {\n                            validity[tasks[index].name] = result;\n                            return validity;\n                        },\n                        {\n                            ...validity\n                        }\n                    )\n                );\n\n            };\n\n\n        }\n\n        function touchAll() {\n            return {\n                type: types.TOUCH_ALL,\n                payload: {model}\n            };\n        }\n\n        function submit(callback) {\n\n            return (dispatch, getState) => {\n\n                let state = getState()[model];\n\n                function onValidateFinish(validity) {\n\n                    if (isValid(validity)) {\n                        callback && callback(selectors.getFormData(state));\n                    }\n\n                }\n\n                dispatch(touchAll());\n\n                let validity = dispatch(validate());\n\n                validity instanceof Promise\n                    ? validity.then(onValidateFinish)\n                    : onValidateFinish(validity);\n\n            };\n\n        }\n\n        function reset() {\n            return {\n                type: types.RESET,\n                payload: {model}\n            };\n        }\n\n        function focus(name) {\n            return {\n                type: types.FOCUS,\n                payload: {name, model}\n            };\n        }\n\n        function change(name, value) {\n            return {\n                type: types.CHANGE,\n                payload: {\n                    name,\n                    value,\n                    model\n                },\n                meta: createEventMeta(name, 'onFieldChange')\n            };\n        }\n\n        function blur(name) {\n\n            return (dispatch, getState) => {\n\n                dispatch({\n                    type: types.BLUR,\n                    payload: {name, model}\n                });\n\n                return dispatch(validate(name));\n\n            };\n\n        }\n\n        function touch(name) {\n            return {\n                type: types.TOUCH,\n                payload: {name, model}\n            };\n        }\n\n        function arrayPush(name, ...elements) {\n\n            return {\n                type: types.ARRAY_PUSH,\n                payload: {\n                    name,\n                    elements,\n                    model\n                },\n                meta: createEventMeta(name, 'onFieldChange')\n            };\n\n        }\n\n        function arraySplice(\n            name,\n            start,\n            deleteCount,\n            ...replacements\n        ) {\n\n            return {\n                type: types.ARRAY_SPLICE,\n                payload: {\n                    name,\n                    start,\n                    deleteCount,\n                    replacements,\n                    model\n                },\n                meta: createEventMeta(name, 'onFieldChange')\n            };\n\n        }\n\n        function arraySwap(name, from, to) {\n\n            return {\n                type: types.ARRAY_SWAP,\n                payload: {\n                    from,\n                    to,\n                    name,\n                    model\n                },\n                meta: createEventMeta(name, 'onFieldChange')\n            };\n\n        }\n\n        function register(name) {\n            return {\n                type: types.REGISTER,\n                payload: {name, model}\n            };\n        }\n\n        function unregister(name) {\n            return {\n                type: types.UNREGISTER,\n                payload: {name, model}\n            };\n        }\n\n        function startPending(name) {\n            return {\n                type: types.PENDING_START,\n                payload: {name, model}\n            };\n        }\n\n        function stopPending(name) {\n            return {\n                type: types.PENDING_STOP,\n                payload: {name, model}\n            };\n        }\n\n        memoizedActions = {\n\n            // form\n            initialize,\n            submit,\n            reset,\n            touchAll,\n\n            // form & field\n            validate,\n\n            // field\n            register,\n            unregister,\n            focus,\n            change,\n            blur,\n            touch,\n            startPending,\n            stopPending,\n\n            // array field\n            arrayPush,\n            arraySplice,\n            arraySwap\n        };\n\n        return memoizedActions;\n\n    };\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/createActionCreators.js","/**\n * @file reducer\n * @author leon <ludafa@outlook.com>\n */\n\nexport * from './array';\nexport * from './field';\nexport * from './form';\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/index.js","/**\n * @file validity\n * @author leon <ludafa@outlook.com>\n */\n\nexport function isValid(validity) {\n\n    if (validity == null) {\n        return true;\n    }\n\n    return Object\n        .keys(validity)\n        .every(name => {\n            let errors = validity[name];\n            return Array.isArray(errors) ? isValid(errors) : !errors;\n        });\n\n}\n\nexport function resolveAsyncTasks(validity) {\n\n    // 不是 object 或者已是 promise 的不处理\n    if (validity == null || typeof validity !== 'object') {\n        return [];\n    }\n\n    if (validity instanceof Promise) {\n        return [{name: '', task: validity}];\n    }\n\n    // 在 object 中找出 promise，作成一个 [{name, promise}] 的结构\n    return Object\n        .keys(validity)\n        .reduce((tasks, name) => {\n\n            let task = validity[name];\n\n            if (task instanceof Promise) {\n                tasks.push({name, task});\n            }\n\n            return tasks;\n\n        }, []);\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/validity.js","module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/mapValues\"\n// module id = 10\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_11__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/toPath\"\n// module id = 11\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 12\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-redux\"\n// module id = 13\n// module chunks = 0","/**\n * @file create field\n * @author leon <ludafa@outlook.com>\n */\n\nimport React, {Component, PropTypes} from 'react';\nimport {connect} from 'react-redux';\nimport {getFieldData} from './selectors';\nimport shallowEqual from 'shallow-equal/objects';\nimport createOnChange from './util/createOnChange';\n\n/**\n * DefaultField\n *\n * @class\n * @param {*} props 属性\n */\nfunction DefaultField(props) {\n\n    let {\n        control: Control,\n        ...rest\n    } = props;\n\n    return (\n        <Control {...rest} />\n    );\n\n}\n\nDefaultField.propTypes = {\n    value: PropTypes.any,\n    meta: PropTypes.shape({\n        touched: PropTypes.bool.isRequired\n    }),\n    validity: PropTypes.arrayOf(PropTypes.shape({\n        valid: PropTypes.bool.isRequired,\n        message: PropTypes.string\n    })),\n    name: PropTypes.string.isRequired,\n    actions: PropTypes.object.isRequired\n};\n\nexport default function createField(Field = DefaultField) {\n\n    function mapStateToProps(state, props) {\n\n        const {model, name, format} = props;\n\n        const data = getFieldData(state[model], name);\n\n        const formattedValue = format(data.value, props);\n\n        return formattedValue === data.value\n            ? data\n            : {...data, value: formattedValue};\n    }\n\n    function mapDispatchToProps(dispatch, props) {\n\n        const {\n            parse,\n            normalize,\n            actions\n        } = props;\n\n        const change = createOnChange(actions.change, {parse, normalize});\n\n        return {\n            actions: {\n                ...actions,\n                change,\n                dispatch\n            }\n        };\n    }\n\n    const ConnectedField = connect(mapStateToProps, mapDispatchToProps)(Field);\n\n    /**\n     * FormField\n     *\n     * @class\n     * @param {*} props   属性\n     * @param {Object} context 上下文\n     */\n    class FormField extends Component {\n\n        shouldComponentUpdate(nextProps) {\n            return !shallowEqual(nextProps, this.props);\n        }\n\n        componentWillMount() {\n            this.context.actions.register(this.props.name);\n        }\n\n        componentWillUnmount() {\n            this.context.actions.unregister(this.props.name);\n        }\n\n        componentWillReceiveProps(nextProps) {\n            if (this.props.name !== nextProps.name) {\n                const actions = this.context.actions;\n                actions.unregister(name);\n                actions.register(name);\n            }\n        }\n\n        render() {\n\n            const {\n                model,\n                actions\n            } = this.context;\n\n            return (\n                <ConnectedField\n                    {...this.props}\n                    actions={actions}\n                    model={model} />\n            );\n        }\n\n    }\n\n    FormField.contextTypes = {\n        actions: PropTypes.object.isRequired,\n        model: PropTypes.string.isRequired\n    };\n\n    FormField.propTypes = {\n        name: PropTypes.string.isRequired,\n        control: PropTypes.func.isRequired,\n        format: PropTypes.func,\n        parse: PropTypes.func,\n        normalize: PropTypes.func\n    };\n\n    FormField.defaultProps = {\n        format(value) {\n            return value == null ? '' : value;\n        }\n    };\n\n    FormField.displayName = `FormField(${Field.displayName || Field.name})`;\n\n    return FormField;\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/createField.js","/**\n * @file create form\n * @author leon <ludafa@outlook.com>\n */\n\nimport React, {Component, PropTypes} from 'react';\nimport createActionCreators from './createActionCreators';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nexport default function (options) {\n\n    let {\n        model,\n        validate,\n        getActions\n    } = options;\n\n    let getEmbedActions = createActionCreators({model, validate});\n\n    return Form => {\n\n        class MelonForm extends Component {\n\n            getChildContext() {\n                return {\n                    actions: this.props.actions,\n                    model\n                };\n            }\n\n            render() {\n                return (\n                    <Form {...this.props} />\n                );\n            }\n\n        }\n\n        MelonForm.propTypes = {\n            value: PropTypes.any,\n            meta: PropTypes.object.isRequired,\n            actions: PropTypes.object.isRequired\n        };\n\n        MelonForm.childContextTypes = {\n            actions: PropTypes.object.isRequired,\n            model: PropTypes.string.isRequired\n        };\n\n        function mapStateToProps(state, props) {\n            return state[model];\n        }\n\n        function mapDispatchToProps(dispatch, props) {\n\n            let embedActions = getEmbedActions(props);\n\n            let customActions = typeof getActions === 'function'\n                ? getActions(props, embedActions)\n                : null;\n\n            let actions = {\n                ...embedActions,\n                ...customActions\n            };\n\n            return {\n                dispatch,\n                actions: bindActionCreators(actions, dispatch)\n            };\n        }\n\n        return connect(mapStateToProps, mapDispatchToProps)(MelonForm);\n\n    };\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/createForm.js","/**\n * @file reducer\n * @author leon <ludafa@outlook.com>\n */\n\nimport * as actionTypes from './actionTypes';\nimport * as reducers from './reducers/index';\n\nconst MAP = {\n    [actionTypes.FOCUS]: reducers.focus,\n    [actionTypes.CHANGE]: reducers.change,\n    [actionTypes.TOUCH]: reducers.touch,\n    [actionTypes.TOUCH_ALL]: reducers.touchAll,\n    [actionTypes.BLUR]: reducers.blur,\n    [actionTypes.ARRAY_SWAP]: reducers.arraySwap,\n    [actionTypes.ARRAY_PUSH]: reducers.arrayPush,\n    [actionTypes.ARRAY_POP]: reducers.arrayPop,\n    [actionTypes.ARRAY_SHIFT]: reducers.arrayShift,\n    [actionTypes.ARRAY_UNSHIFT]: reducers.arrayUnshift,\n    [actionTypes.ARRAY_SPLICE]: reducers.arraySplice,\n    [actionTypes.INITIALIZE]: reducers.initialize,\n    [actionTypes.RESET]: reducers.reset,\n    [actionTypes.VALIDITY_UPDATE]: reducers.updateValidity,\n    [actionTypes.ASYNC_VALIDATE_START]: reducers.setValidateStart,\n    [actionTypes.ASYNC_VALIDATE_SUCCEED]: reducers.setValidateSucceed,\n    [actionTypes.ASYNC_VALIDATE_FAILED]: reducers.setValidateFailed,\n    [actionTypes.REGISTER]: reducers.register,\n    [actionTypes.UNREGISTER]: reducers.unregister,\n    [actionTypes.PENDING_START]: reducers.startPending,\n    [actionTypes.PENDING_STOP]: reducers.stopPending\n};\n\nexport default function createReducer(model, initialValue = {}, customReducers = {}) {\n\n    return (state = {value: initialValue, meta: {}}, action) => {\n\n        let {type, payload} = action;\n\n        let embedReducer = MAP[type];\n        let customReducer = customReducers[type];\n\n        // 跳过\n        if (\n            // 不是当前绑定域\n            payload && payload.model !== model\n            // 或者无 reducer 绑定\n            || (!embedReducer && !customReducer)\n        ) {\n            return state;\n        }\n\n        return customReducer\n            // 优先使用自定义 reducer\n            ? customReducer(state, action, embedReducer)\n            : embedReducer(state, action);\n\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/createReducer.js","/**\n * @file melon-form\n * @author leon <ludafa@outlook.com>\n */\n\nimport createActionCreators from './createActionCreators';\nimport createReducer from './createReducer';\nimport createForm from './createForm';\nimport createField from './createField';\n\nimport * as actionTypes from './actionTypes';\nimport * as selectors from './selectors';\nimport * as dataPath from './util/dataPath';\nimport * as reducers from './reducers/index';\nexport * from './util/validity';\n\nexport const Field = createField();\n\nexport {\n    createActionCreators,\n    actionTypes,\n    selectors,\n    createReducer,\n    createForm,\n    createField,\n    dataPath,\n    reducers\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/**\n * @file array field reducer\n * @author leon <ludafa@outlook.com>\n */\n\nimport update from 'react-addons-update';\nimport mapValues from 'lodash/mapValues';\nimport {DEFAULT_META} from '../constants';\n\nimport {\n    setInWithPath,\n    swap,\n    make,\n    remove,\n    splice\n} from '../util/dataPathMap';\n\nimport {\n    getIn,\n    setIn\n} from '../util/dataPath';\n\nexport function arraySwap(state, action) {\n\n    let {name, from, to} = action.payload;\n\n    if (from === to) {\n        return state;\n    }\n\n    return update(state, {\n        value: {\n            $apply(value) {\n                if (from > to) {\n                    [from, to] = [to, from];\n                }\n\n                let currentValue = getIn(value, name);\n\n                return setIn(value, name, [\n                    ...currentValue.slice(0, from),\n                    currentValue[to],\n                    ...currentValue.slice(from + 1, to),\n                    currentValue[from],\n                    ...currentValue.slice(to + 1)\n                ]);\n            }\n        },\n        meta: {\n            $apply(meta) {\n                return setInWithPath(\n                    swap(meta, name, from, to),\n                    name,\n                    data => ({...data, touched: true})\n                );\n            }\n        }\n    });\n\n}\n\nexport function arrayPush(state, action) {\n\n    let {name, elements} = action.payload;\n\n    let {\n        value,\n        meta\n    } = state;\n\n    let currentValue = getIn(value, name) || [];\n    let currentLength = currentValue.length;\n    let nextValue = setIn(\n        value,\n        name,\n        [...currentValue, ...elements]\n    );\n\n    return update(state, {\n        value: {\n            $set: nextValue\n        },\n        meta: {\n            $set: elements.reduce((meta, element, i) => {\n\n                return {\n                    ...meta,\n                    ...mapValues(\n                        make(\n                            element,\n                            `${name}[${currentLength + i}]`\n                        ),\n                        () => DEFAULT_META\n                    )\n                };\n\n            }, meta)\n        }\n    });\n\n}\n\nexport function arrayPop(state, action) {\n\n    let name = action.payload.name;\n\n    let {\n        value,\n        meta\n    } = state;\n\n    let currentValue = getIn(value, name);\n    let nextValue = setIn(value, name, currentValue.slice(0, -1));\n\n    return update(state, {\n        value: {\n            $set: nextValue\n        },\n        meta: {\n            $set: remove(\n                meta,\n                `${name}[${currentValue.length - 1}]`\n            )\n        }\n    });\n\n}\n\nexport function arrayShift(state, action) {\n\n    let name = action.payload.name;\n\n    let {\n        value,\n        meta\n    } = state;\n\n    let currentValue = getIn(value, name);\n    let nextValue = setIn(value, name, currentValue.slice(1));\n\n    return update(state, {\n        value: {\n            $set: nextValue\n        },\n        meta: {\n            $set: splice(\n                meta, name,\n                currentValue, 0, 1, []\n            )\n        }\n    });\n\n}\n\nexport function arrayUnshift(state, action) {\n\n    let {name, elements} = action.payload;\n\n    let {\n        value,\n        meta\n    } = state;\n\n    let currentValue = getIn(value, name);\n    let nextValue = setIn(\n        value,\n        name,\n        [...elements, ...currentValue]\n    );\n\n    return update(state, {\n        value: {\n            $set: nextValue\n        },\n        meta: {\n            $set: splice(\n                meta, name,\n                currentValue, 0, 0, elements\n            )\n        }\n    });\n\n}\n\nexport function arraySplice(state, action) {\n\n    let {\n        name,\n        start,\n        deleteCount,\n        replacements\n    } = action.payload;\n\n    let {\n        value,\n        meta\n    } = state;\n\n    let currentValue = getIn(value, name);\n    let nextValue = setIn(\n        value,\n        name,\n        [\n            ...currentValue.slice(0, start),\n            ...replacements,\n            ...currentValue.slice(start + deleteCount)\n        ]\n    );\n\n    return update(state, {\n        value: {\n            $set: nextValue\n        },\n        meta: {\n            $set: splice(\n                meta, name,\n                currentValue, start, deleteCount, replacements\n            )\n        }\n    });\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/array.js","/**\n * @file field reducer\n * @author leon <ludafa@outlook.com>\n */\n\nimport update from 'react-addons-update';\nimport {setInWithPath} from '../util/dataPathMap';\nimport {getIn, setIn, deleteIn} from '../util/dataPath';\nimport {DEFAULT_META} from '../constants';\n\nexport function focus(state, action) {\n\n    let name = action.payload.name;\n\n    return update(state, {\n        meta: {\n            [name]: {\n                focus: {$set: true}\n            }\n        }\n    });\n\n}\n\nexport function blur(state, action) {\n\n    let name = action.payload.name;\n\n    return update(state, {\n        meta: {\n            [name]: {\n                focus: {$set: false}\n            }\n        }\n    });\n\n}\n\nexport function touch(state, action) {\n\n    let name = action.payload.name;\n\n    return update(state, {\n        meta: {\n            $apply(meta) {\n                return setInWithPath(\n                    meta,\n                    name,\n                    data => ({\n                        ...data,\n                        touched: true\n                    })\n                );\n            }\n        }\n    });\n}\n\nexport function change(state, action) {\n\n    let {name, value} = action.payload;\n\n    if (getIn(state.value) === value) {\n        return state;\n    }\n\n    const nextValue = setIn(\n        state.value,\n        name,\n        value\n    );\n\n    return update(state, {\n        meta: {\n            $apply(meta) {\n                return setInWithPath(\n                    meta,\n                    name,\n                    data => ({\n                        ...data,\n                        touched: true\n                    })\n                );\n            }\n        },\n        value: {\n            $set: nextValue\n        }\n    });\n\n}\n\nexport function updateValidity(state, action) {\n\n    let validity = action.payload.validity;\n\n    return update(state, {\n        meta: {\n            $apply(meta) {\n                return Object\n                    .keys(meta)\n                    .reduce((nextMeta, key) => {\n\n                        nextMeta[key] = {\n                            ...meta[key],\n                            error: validity && validity[key] || ''\n                        };\n\n                        return nextMeta;\n\n                    }, {});\n            }\n        }\n    });\n\n}\n\nexport function register(state, action) {\n    return update(state, {\n        meta: {\n            [action.payload.name]: {\n                $set: DEFAULT_META\n            }\n        }\n    });\n}\n\nexport function unregister(state, action) {\n    return update(state, {\n        meta: {\n            $apply(meta) {\n                return deleteIn(meta, action.payload.name);\n            }\n        }\n    });\n}\n\nexport function setValidateStart(state, action) {\n\n    let name = action.payload.name;\n\n    return update(state, {\n\n        meta: {\n            $apply(meta) {\n\n                return Object\n                    .keys(meta)\n                    .reduce((nextMeta, key) => {\n\n                        nextMeta[key] = {\n                            ...meta[key],\n\n                            // 不指定 name 或者等于指定 name\n                            validating: (!name || key === name),\n\n                            // 如果是 form validate 即无 name，那么同步校验已通过，error 设置为 null\n                            // 如果是 field validate 即有 name，指定 name 的要保留，否则清空\n                            error: name === key ? null : meta[key].error\n                        };\n\n                        return nextMeta;\n\n                    }, {});\n\n            }\n        }\n\n    });\n\n}\n\nexport function setValidateSucceed(state, action) {\n\n    let name = action.payload.name;\n\n    return name\n        ? update(state, {\n            meta: {\n                [name]: {\n                    $apply(meta) {\n                        return {\n                            ...meta,\n                            validating: false,\n                            error: null\n                        };\n                    }\n                }\n            }\n        })\n        : update(state, {\n            meta: {\n                $apply(meta) {\n\n                    return Object\n                        .keys(meta)\n                        .reduce((nextMeta, key) => {\n\n                            nextMeta[key] = {\n                                ...meta[key],\n                                validating: false,\n                                error: null\n                            };\n\n                            return nextMeta;\n\n                        }, {});\n\n                }\n            }\n        });\n}\n\nexport function setValidateFailed(state, action) {\n\n    let {name, error} = action.payload;\n\n    return name\n        ? update(state, {\n            meta: {\n                [name]: {\n                    $apply(meta) {\n                        return {\n                            ...meta,\n                            validating: false,\n                            error\n                        };\n                    }\n                }\n            }\n        })\n        : update(state, {\n            meta: {\n                $apply(meta) {\n\n                    return Object\n                        .keys(meta)\n                        .reduce((nextMeta, key) => {\n\n                            nextMeta[key] = {\n                                ...meta[key],\n                                validating: false,\n                                error\n                            };\n\n                            return nextMeta;\n\n                        }, {});\n\n                }\n            }\n        });\n\n}\n\nexport function startPending(state, action) {\n    return update(state, {\n        meta: {\n            [action.payload.name]: {\n                $merge: {pending: true}\n            }\n        }\n    });\n}\n\nexport function stopPending(state, action) {\n    return update(state, {\n        meta: {\n            [action.payload.name]: {\n                $merge: {pending: false}\n            }\n        }\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/field.js","/**\n * @file form reducer\n * @author leon <ludafa@outlook.com>\n */\n\nimport update from 'react-addons-update';\nimport mapValues from 'lodash/mapValues';\nimport {make} from '../util/dataPathMap';\nimport {DEFAULT_META} from '../constants';\n\nexport function initialize(state, action) {\n\n    let value = action.payload.value;\n\n    return update(state, {\n        value: {\n            $set: value\n        },\n        meta: {\n            $set: mapValues(\n                make(value),\n                () => DEFAULT_META\n            )\n        }\n    });\n\n}\n\nexport function reset(state, action) {\n    // TODO\n}\n\nexport function touchAll(state) {\n\n    return update(state, {\n        meta: {\n            $apply(meta) {\n\n                let hasChanged = false;\n                let nextMeta = {};\n\n                /* eslint-disable fecs-use-for-of */\n                for (let key in meta) {\n                    if (meta.hasOwnProperty(key)) {\n\n                        if (meta[key].touched) {\n                            nextMeta[key] = meta[key];\n                        }\n                        else {\n                            nextMeta[key] = {\n                                ...meta[key],\n                                touched: true\n                            };\n                            hasChanged = true;\n                        }\n                    }\n                }\n                /* eslint-enable fecs-use-for-of */\n\n                return hasChanged ? nextMeta : meta;\n            }\n        }\n    });\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/form.js","/**\n * @file create onChange handler\n * @author leon <ludafa@outlook.com>\n */\n\nexport default function createOnChange(change, {parse, normalize}) {\n\n    return (name, value) => {\n\n        if (parse) {\n            value = parse(value);\n        }\n\n        if (normalize) {\n            value = normalize(value);\n        }\n\n        change(name, value);\n    };\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/createOnChange.js","module.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/get\"\n// module id = 22\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_23__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/startsWith\"\n// module id = 23\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_24__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 24\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_25__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"shallow-equal/objects\"\n// module id = 25\n// module chunks = 0"],"sourceRoot":""}